<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:Common="clr-namespace:Ecng.Xaml.Charting.Common"
                    xmlns:a="clr-namespace:Ecng.Xaml.Charting.Visuals.Annotations"
                    xmlns:axes="clr-namespace:Ecng.Xaml.Charting.Visuals.Axes"
                    xmlns:c="clr-namespace:Ecng.Xaml.Charting.ChartModifiers"
                    xmlns:databinding="clr-namespace:Ecng.Xaml.Charting.Common.Databinding"
                    xmlns:extensions="clr-namespace:Ecng.Xaml.Charting.Common.Extensions"
                    xmlns:helpers="clr-namespace:Ecng.Xaml.Charting.Common.Helpers"
                    xmlns:highSpeedRasterizer="clr-namespace:Ecng.Xaml.Charting.Rendering.HighSpeedRasterizer"
                    xmlns:layout="clr-namespace:System.Windows.Controls"
                    xmlns:mouse="clr-namespace:Ecng.Xaml.Charting.Utility.Mouse"
                    xmlns:pointMarkers="clr-namespace:Ecng.Xaml.Charting.Visuals.PointMarkers"
                    xmlns:r="clr-namespace:Ecng.Xaml.Charting.Visuals.RenderableSeries"
                    xmlns:s="clr-namespace:Ecng.Xaml.Charting"
                    xmlns:themes="clr-namespace:Ecng.Xaml.Charting.Themes"
                    xmlns:visuals="clr-namespace:Ecng.Xaml.Charting.Visuals"
                    xmlns:z="clr-namespace:Ecng.Xaml.Charting.Common.MarkupExtensions">

    <!--  *******************************************************  -->
    <!--  Generic Styles NO COLOURS. These are provided by Themes  -->
    <!--  *******************************************************  -->

    <s:InverseOrientationConverter x:Key="InverseOrientationConverter" />
    <s:CollapseIfNullOrEmptyStringConverter x:Key="CollapseIfNullOrEmptyStringConverter" />
    <s:OrientationToAxisLabelRotationConverter x:Key="OrientationToAxisLabelRotationConverter" />
    <s:ColorToBrushConverter x:Key="ColorToBrushConverter" />
    <s:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    <s:BooleanToVisibilityConverter x:Key="HideBooleanToVisibilityConverter" FalseVisibilityValue="Hidden"/>
    <s:IComparableToObjectConverter x:Key="IComparableToObject" />
    <s:InvertBooleanConverter x:Key="InvertBooleanConverter" />
    <s:DoubleToThicknessConverter x:Key="DoubleToThicknessConverter" />
    <s:ThicknessToDoubleConverter x:Key="ThicknessToDoubleConverter" />
    <s:BandSeriesInfoToYValueConverter x:Key="BandSeriesInfoToYValueConverter" />
    <s:DataTemplateToObjectConverter x:Key="DataTemplateToObjectConverter" />
    <s:AxisAlignmentToHorizontalAlignmentConverter x:Key="AxisAlignmentToHorizontalAlignmentConverter" />
    <s:AxisAlignmentToVerticalAlignmentConverter x:Key="AxisAlignmentToVerticalAlignmentConverter" />
    <s:AxisAlignmentToAxisOrientationConverter x:Key="AxisAlignmentToAxisOrientationConverter" />
    <s:HorisontalOrientationVisibilityConverter x:Key="HorisontalOrientationVisibilityConverter" />
    <s:VerticalOrientationVisibilityConverter x:Key="VerticalOrientationVisibilityConverter" />
    <s:BooleanToDefaultAxisAlignmentConverter x:Key="BooleanToDefaultAxisAlignmentConverter" />
    <s:AxisAlignmentToVeticalAnchorPointConverter x:Key="AxisAlignmentToVeticalAnchorPointConverter" />
    <s:AxisAlignmentToHorizontalAnchorPointConverter x:Key="AxisAlignmentToHorizontalAnchorPointConverter" />
    <s:AxisAlignmentToFlowDirectionConverter x:Key="AxisAlignmentToFlowDirectionConverter" />
    <s:ValueMultiplicatorConverter x:Key="ValueMultiplicatorConverter" />
    <s:ValueToTopMarginConverter x:Key="ValueToTopMarginConverter" />
    <s:AxisAlignmentToVisibilityConverter x:Key="LeftPointerAlignmentToVisibilityConverter" IsLeftPointer="True" />
    <s:AxisAlignmentToVisibilityConverter x:Key="RightPointerAlignmentToVisibilityConverter" IsLeftPointer="False" />
    <s:BooleanToRotationTransformConverter x:Key="BooleanToRotationTransformConverter" />
    <s:NullToVisibilityConverter x:Key="NullToVisibilityConverter" />
    <s:DoubleArrayToDoubleCollectionConverter x:Key="DoubleArrayToDoubleCollectionConverter" />
    <s:DoubleToThumbMarginConverter x:Key="DoubleToThumbMarginConverter" />
    <s:OrientationToVisibilityConverter x:Key="OrientationToVisibilityConverter" />
    <s:BooleanToOrientationConverter x:Key="BooleanToOrientationConverter" />
    <s:AxisAlignmentToTransformOriginConverter x:Key="AxisAlignmentToTransformOriginConverter" />
    <s:DoubleToNegativeDoubleConverter x:Key="DoubleToNegativeDoubleConverter" />
    <databinding:AllDoubleToThicknessMultiConverter x:Key="AllDoubleToThicknessMultiConverter" />
    <databinding:GrayscaleColorBrushConverter x:Key="GrayscaleColorBrushConverter" />
    <databinding:IsLastPointInViewportToOpacityConverter x:Key="IsLastPointInViewportToOpacityConverter" />
    <databinding:LegendPlacementToGridPositionConverter x:Key="LegendPlacementToGridPositionConverter" />
    <databinding:AllTrueMultiConverter x:Key="TestConverter" />
    <databinding:EnumToStringConverter x:Key="EnumToStrConverter"/>

    <!--  GridLinesPanel  -->
    <Style x:Key="DefaultGridLinesPanelStyle" TargetType="axes:GridLinesPanel">
        <Setter Property="Background" Value="{z:ThemeBinding Path=GridBackgroundBrush}" />
        <Setter Property="BorderBrush" Value="{Binding BorderBrush, RelativeSource={RelativeSource AncestorType=visuals:UltrachartSurface}}" />
        <Setter Property="BorderThickness" Value="{Binding BorderThickness, RelativeSource={RelativeSource AncestorType=visuals:UltrachartSurface}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="axes:GridLinesPanel">
                    <Border Background="{TemplateBinding Background}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource DefaultGridLinesPanelStyle}" TargetType="axes:GridLinesPanel" />

    <!--  AxisArea  -->
    <Style x:Key="AxisAreaStyle" TargetType="axes:AxisArea">
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Setter Property="VerticalAlignment" Value="Stretch" />
        <Setter Property="Background" Value="{x:Null}" />
    </Style>

    <ItemsPanelTemplate x:Key="DefaultYAxesPanel">
        <StackPanel Orientation="Horizontal" />
    </ItemsPanelTemplate>

    <ItemsPanelTemplate x:Key="DefaultXAxesPanel">
        <StackPanel Orientation="Vertical" />
    </ItemsPanelTemplate>

    <ItemsPanelTemplate x:Key="CenterXItemsPanel">
        <themes:PolarPanel />
    </ItemsPanelTemplate>

    <ItemsPanelTemplate x:Key="CenterYItemsPanel">
        <themes:RadialPanel />
    </ItemsPanelTemplate>

    <!--  UltrachartSurfaceBase  -->
    <Style x:Key="UltrachartSurfaceBase" TargetType="visuals:UltrachartSurface">
        <Setter Property="Background" Value="{z:ThemeBinding Path=UltrachartBackground}" />
        <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=GridBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="20,20,15,15" />
        <Setter Property="FontSize" Value="20" />
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=TickTextBrush}" />
        <Setter Property="Common:Device.SnapsToDevicePixels" Value="True" />
        <Setter Property="ClipUnderlayAnnotations" Value="True" />
        <Setter Property="ClipOverlayAnnotations" Value="True" />
        <Setter Property="ClipModifierSurface" Value="True" />
        <Setter Property="LeftAxesPanelTemplate" Value="{StaticResource DefaultYAxesPanel}" />
        <Setter Property="RightAxesPanelTemplate" Value="{StaticResource DefaultYAxesPanel}" />
        <Setter Property="TopAxesPanelTemplate" Value="{StaticResource DefaultXAxesPanel}" />
        <Setter Property="BottomAxesPanelTemplate" Value="{StaticResource DefaultXAxesPanel}" />
        <Setter Property="CenterXAxesPanelTemplate" Value="{StaticResource CenterXItemsPanel}" />
        <Setter Property="CenterYAxesPanelTemplate" Value="{StaticResource CenterYItemsPanel}" />
        <Setter Property="IsTabStop" Value="True" />
        <Setter Property="Common:CompatibleFocus.IsFocusable" Value="True" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="visuals:UltrachartSurface">
                    <Border Background="{TemplateBinding Background}"
                            Common:Device.SnapsToDevicePixels="True"
                            Padding="{TemplateBinding Padding}">

                        <visuals:MainGrid x:Name="PART_MainGrid" Common:Device.SnapsToDevicePixels="True">
                            <visuals:MainGrid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" MinWidth="10" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </visuals:MainGrid.ColumnDefinitions>
                            <visuals:MainGrid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" MinHeight="10" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </visuals:MainGrid.RowDefinitions>

                            <!--  Chart Title  -->
                            <TextBlock Grid.Column="2"
                                       Margin="0,0,0,9"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       FontSize="{TemplateBinding FontSize}"
                                       FontWeight="{TemplateBinding FontWeight}"
                                       Foreground="{TemplateBinding Foreground}"
                                       Text="{TemplateBinding ChartTitle}"
                                       Visibility="{Binding ChartTitle,
                                                            RelativeSource={RelativeSource TemplatedParent},
                                                            Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />

                            <!--  GridLines panel (legacy, gridlines now in RenderSurface, but panel left for border and background  -->
                            <axes:GridLinesPanel x:Name="PART_GridLinesArea"
                                                 Grid.Row="3"
                                                 Grid.Column="2"
                                                 HorizontalAlignment="Stretch"
                                                 VerticalAlignment="Stretch"
                                                 Common:Device.SnapsToDevicePixels="True"
                                                 IsTabStop="False"
                                                 Style="{TemplateBinding GridLinesPanelStyle}" />

                            <themes:PolarPanel Grid.Row="3"
                                               Grid.Column="2"
                                               Common:Device.SnapsToDevicePixels="True"
                                               StretchToSize="{Binding IsPolarChart,
                                                                       RelativeSource={RelativeSource TemplatedParent},
                                                                       Converter={StaticResource InvertBooleanConverter}}">
                                <Grid HorizontalAlignment="Stretch"
                                      VerticalAlignment="Stretch"
                                      Common:ClipToBoundsHelper.ClipToEllipseBounds="{TemplateBinding IsPolarChart}"
                                      Common:Device.SnapsToDevicePixels="True">

                                    <!--  Annotations behind chart series  -->
                                    <a:AnnotationSurface x:Name="PART_AnnotationsUnderlaySurface"
                                                         HorizontalAlignment="Stretch"
                                                         VerticalAlignment="Stretch"
                                                         Common:ClipToBoundsHelper.ClipToBounds="{TemplateBinding ClipUnderlayAnnotations}"
                                                         Common:Device.SnapsToDevicePixels="True" />

                                    <!--  Render Surface (Chart Series)  -->
                                    <ContentControl HorizontalContentAlignment="Stretch"
                                                    VerticalContentAlignment="Stretch"
                                                    Common:Device.SnapsToDevicePixels="True"
                                                    Content="{TemplateBinding RenderSurface}"
                                                    IsTabStop="False" />

                                    <axes:AxisArea Name="PART_CenterYAxisArea"
                                                   Common:Device.SnapsToDevicePixels="True"
                                                   ItemsPanel="{TemplateBinding CenterYAxesPanelTemplate}" />

                                    <!--  Annotations over the chart series  -->
                                    <a:AnnotationSurface x:Name="PART_AnnotationsOverlaySurface"
                                                         HorizontalAlignment="Stretch"
                                                         VerticalAlignment="Stretch"
                                                         Common:ClipToBoundsHelper.ClipToBounds="{TemplateBinding ClipOverlayAnnotations}"
                                                         Common:Device.SnapsToDevicePixels="True" />

                                    <!--  Modifier canvas, e.g. rubber band rectangles, rollover  -->
                                    <visuals:ChartModifierSurface x:Name="PART_ChartModifierSurface"
                                                                  HorizontalAlignment="Stretch"
                                                                  VerticalAlignment="Stretch"
                                                                  ClipToBounds="{TemplateBinding ClipModifierSurface}"
                                                                  Common:Device.SnapsToDevicePixels="True"
                                                                  IsTabStop="False" />

                                    <!--  Adorners, e.g. annotation resize  -->
                                    <Canvas x:Name="PART_ChartAdornerLayer"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Stretch"
                                            Common:ClipToBoundsHelper.ClipToBounds="{TemplateBinding ClipModifierSurface}"
                                            Common:Device.SnapsToDevicePixels="True">
                                        <Canvas.Resources>
                                            <Style TargetType="Thumb">
                                                <Setter Property="BorderThickness" Value="1" />
                                                <Setter Property="IsTabStop" Value="False" />
                                                <Setter Property="Cursor" Value="Hand" />
                                                <Setter Property="Background" Value="Green" />
                                                <Setter Property="Width" Value="{z:Static Member=visuals:ManipulationMargins.AnnotationResizingThumbSize}" />
                                                <Setter Property="Height" Value="{z:Static Member=visuals:ManipulationMargins.AnnotationResizingThumbSize}" />
                                                <Setter Property="Opacity" Value="0.4" />
                                                <Setter Property="BorderBrush">
                                                    <Setter.Value>
                                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                            <GradientStop Offset="0" Color="#FFA3AEB9" />
                                                            <GradientStop Offset="0.375" Color="#FF8399A9" />
                                                            <GradientStop Offset="0.375" Color="#FF718597" />
                                                            <GradientStop Offset="1" Color="#FF617584" />
                                                        </LinearGradientBrush>
                                                    </Setter.Value>
                                                </Setter>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Thumb">
                                                            <Grid>
                                                                <VisualStateManager.VisualStateGroups>
                                                                    <VisualStateGroup x:Name="CommonStates">
                                                                        <VisualState x:Name="Normal" />
                                                                        <VisualState x:Name="MouseOver">
                                                                            <Storyboard>
                                                                                <DoubleAnimation Duration="0"
                                                                                                 Storyboard.TargetName="BackgroundAnimation"
                                                                                                 Storyboard.TargetProperty="Opacity"
                                                                                                 To="1" />
                                                                                <ColorAnimation Duration="0"
                                                                                                Storyboard.TargetName="Background"
                                                                                                Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                                                To="#FF6DBDD1" />
                                                                            </Storyboard>
                                                                        </VisualState>
                                                                        <VisualState x:Name="Pressed">
                                                                            <Storyboard>
                                                                                <DoubleAnimation Duration="0"
                                                                                                 Storyboard.TargetName="BackgroundAnimation"
                                                                                                 Storyboard.TargetProperty="Opacity"
                                                                                                 To="1" />
                                                                                <ColorAnimation Duration="0"
                                                                                                Storyboard.TargetName="Background"
                                                                                                Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                                                To="#FF6DBDD1" />
                                                                            </Storyboard>
                                                                        </VisualState>
                                                                        <VisualState x:Name="Disabled">
                                                                            <Storyboard>
                                                                                <DoubleAnimation Duration="0"
                                                                                                 Storyboard.TargetName="DisabledVisualElement"
                                                                                                 Storyboard.TargetProperty="Opacity"
                                                                                                 To=".55" />
                                                                            </Storyboard>
                                                                        </VisualState>
                                                                    </VisualStateGroup>
                                                                    <VisualStateGroup x:Name="FocusStates">
                                                                        <VisualState x:Name="Focused">
                                                                            <Storyboard>
                                                                                <DoubleAnimation Duration="0"
                                                                                                 Storyboard.TargetName="FocusVisualElement"
                                                                                                 Storyboard.TargetProperty="Opacity"
                                                                                                 To="1" />
                                                                            </Storyboard>
                                                                        </VisualState>
                                                                        <VisualState x:Name="Unfocused" />
                                                                    </VisualStateGroup>
                                                                </VisualStateManager.VisualStateGroups>
                                                                <Border x:Name="Background"
                                                                        Background="White"
                                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                                        BorderThickness="{TemplateBinding BorderThickness}"
                                                                        CornerRadius="2">
                                                                    <Grid Margin="1" Background="{TemplateBinding Background}">
                                                                        <Border x:Name="BackgroundAnimation"
                                                                                Background="#FF448DCA"
                                                                                Opacity="0" />
                                                                        <Rectangle x:Name="BackgroundGradient" Fill="{TemplateBinding Background}" />
                                                                    </Grid>
                                                                </Border>
                                                                <Rectangle x:Name="DisabledVisualElement"
                                                                           Fill="#FFFFFFFF"
                                                                           IsHitTestVisible="false"
                                                                           Opacity="0"
                                                                           RadiusX="2"
                                                                           RadiusY="2" />
                                                                <Rectangle x:Name="FocusVisualElement"
                                                                           Margin="1"
                                                                           IsHitTestVisible="false"
                                                                           Opacity="0"
                                                                           RadiusX="1"
                                                                           RadiusY="1"
                                                                           Stroke="#FF6DBDD1"
                                                                           StrokeThickness="1" />
                                                            </Grid>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Canvas.Resources>
                                    </Canvas>

                                </Grid>

                                <axes:AxisArea Name="PART_CenterXAxisArea"
                                               Common:Device.SnapsToDevicePixels="True"
                                               ItemsPanel="{TemplateBinding CenterXAxesPanelTemplate}" />

                            </themes:PolarPanel>

                            <!--  Chart area border only  -->
                            <Border Grid.Row="3"
                                    Grid.Column="2"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    BorderBrush="{Binding ElementName=PART_GridLinesArea,
                                                          Path=BorderBrush}"
                                    BorderThickness="{Binding ElementName=PART_GridLinesArea,
                                                              Path=BorderThickness}"
                                    Common:Device.SnapsToDevicePixels="True" />

                            <!--  Axis areas  -->
                            <axes:AxisArea x:Name="PART_TopAxisArea"
                                           Grid.Row="2"
                                           Grid.Column="2"
                                           Common:Device.SnapsToDevicePixels="True"
                                           ItemsPanel="{TemplateBinding TopAxesPanelTemplate}"
                                           Style="{StaticResource AxisAreaStyle}" />
                            <axes:AxisArea x:Name="PART_LeftAxisArea"
                                           Grid.Row="3"
                                           Grid.Column="1"
                                           Common:Device.SnapsToDevicePixels="True"
                                           ItemsPanel="{TemplateBinding LeftAxesPanelTemplate}"
                                           Style="{StaticResource AxisAreaStyle}" />
                            <axes:AxisArea x:Name="PART_BottomAxisArea"
                                           Grid.Row="4"
                                           Grid.Column="2"
                                           Common:Device.SnapsToDevicePixels="True"
                                           ItemsPanel="{TemplateBinding BottomAxesPanelTemplate}"
                                           Style="{StaticResource AxisAreaStyle}" />
                            <axes:AxisArea x:Name="PART_RightAxisArea"
                                           Grid.Row="3"
                                           Grid.Column="3"
                                           Common:Device.SnapsToDevicePixels="True"
                                           ItemsPanel="{TemplateBinding RightAxesPanelTemplate}"
                                           Style="{StaticResource AxisAreaStyle}" />
                        </visuals:MainGrid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  UltrachartSurface  -->
    <Style BasedOn="{StaticResource UltrachartSurfaceBase}" TargetType="visuals:UltrachartSurface" />

    <!--  Axis Label  -->
    <Style x:Key="DefaultAxisLabelStyle" TargetType="axes:DefaultTickLabel">
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="Margin" Value="1" />
        <Setter Property="Foreground" Value="{Binding DefaultForeground, RelativeSource={RelativeSource Self}}" />
        <Setter Property="VerticalAnchorPoint" Value="{Binding DefaultVerticalAnchorPoint, RelativeSource={RelativeSource Self}}" />
        <Setter Property="HorizontalAnchorPoint" Value="{Binding DefaultHorizontalAnchorPoint, RelativeSource={RelativeSource Self}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="axes:DefaultTickLabel">
                    <ContentControl Content="{Binding}"
                                    ContentTemplate="{TemplateBinding ContentTemplate}"
                                    Foreground="{TemplateBinding Foreground}"
                                    IsTabStop="False" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <DataTemplate x:Key="NumericLabelTemplate">
        <StackPanel Orientation="Horizontal">
            <TextBlock x:Name="significand"
                       Margin="{Binding .,
                                        RelativeSource={RelativeSource Self},
                                        Converter={StaticResource ValueToTopMarginConverter},
                                        ConverterParameter=0.5}"
                       Text="{Binding Text}" />
            <TextBlock Margin="{Binding Margin,
                                        ElementName=significand}"
                       Text="{Binding Separator}"
                       Visibility="{Binding HasExponent,
                                            Converter={StaticResource BooleanToVisibilityConverter}}" />
            <TextBlock x:Name="exponent"
                       FontSize="{Binding FontSize,
                                          ElementName=significand,
                                          Converter={StaticResource ValueMultiplicatorConverter},
                                          ConverterParameter=0.83}"
                       Text="{Binding Exponent}"
                       Visibility="{Binding HasExponent,
                                            Converter={StaticResource BooleanToVisibilityConverter}}" />
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="DefaultLabelTemplate">
        <TextBlock Text="{Binding Text}" />
    </DataTemplate>

    <Style BasedOn="{StaticResource DefaultAxisLabelStyle}" TargetType="axes:NumericTickLabel">
        <Setter Property="ContentTemplate" Value="{StaticResource NumericLabelTemplate}" />
    </Style>

    <Style BasedOn="{StaticResource DefaultAxisLabelStyle}" TargetType="axes:DefaultTickLabel">
        <Setter Property="ContentTemplate" Value="{StaticResource DefaultLabelTemplate}" />
    </Style>

    <DataTemplate x:Key="DefaultTitleTemplate">
        <TextBlock Margin="0,3,0,3"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   Text="{Binding}" />
    </DataTemplate>

    <!--  Axis Title  -->
    <Style x:Key="DefaultAxisTitleStyle" TargetType="axes:AxisTitle">
        <Style.Setters>
            <Setter Property="IsTabStop" Value="False" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Margin" Value="0,3,0,3" />
            <Setter Property="Foreground" Value="{Binding TickTextBrush, RelativeSource={RelativeSource AncestorType=axes:AxisBase}}" />
            <Setter Property="FontSize" Value="{Binding TitleFontSize, RelativeSource={RelativeSource AncestorType=axes:AxisBase}}" />
            <Setter Property="FontWeight" Value="{Binding TitleFontWeight, RelativeSource={RelativeSource AncestorType=axes:AxisBase}}" />
            <Setter Property="Content" Value="{Binding AxisTitle, RelativeSource={RelativeSource AncestorType=axes:AxisBase}}" />
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <s:AxisTitleTemplateSelector Content="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                                       Path=Content}"
                                                     Foreground="{Binding Foreground,
                                                                          RelativeSource={RelativeSource AncestorType=axes:AxisTitle}}"
                                                     IsTabStop="False"
                                                     StringTitleTemplate="{StaticResource DefaultTitleTemplate}" />
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="axes:AxisTitle">
                        <layout:LayoutTransformer Background="{TemplateBinding Background}" LayoutTransform="{Binding Orientation, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay, Converter={StaticResource OrientationToAxisLabelRotationConverter}}">
                            <ContentControl Content="{TemplateBinding Content}"
                                            ContentTemplate="{TemplateBinding ContentTemplate}"
                                            Foreground="{TemplateBinding Foreground}"
                                            IsTabStop="False" />
                        </layout:LayoutTransformer>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style.Setters>
    </Style>

    <Style BasedOn="{StaticResource DefaultAxisTitleStyle}" TargetType="axes:AxisTitle" />

    <!--  AxisBase  -->
    <Style x:Key="AxisBaseStyle" TargetType="axes:AxisBase">
        <Setter Property="Common:Device.SnapsToDevicePixels" Value="True" />
        <Setter Property="Visibility" Value="Visible" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="TickTextBrush" Value="{z:ThemeBinding Path=TickTextBrush}" />
        <Setter Property="TitleFontSize" Value="12" />
        <Setter Property="TitleFontWeight" Value="Bold" />
        <Setter Property="IsLabelCullingEnabled" Value="True" />
        <Setter Property="DrawMajorGridLines" Value="{Binding IsPrimaryAxis, RelativeSource={RelativeSource Self}}" />
        <Setter Property="DrawMinorGridLines" Value="{Binding IsPrimaryAxis, RelativeSource={RelativeSource Self}}" />
        <Setter Property="AxisBandsFill" Value="{z:ThemeBinding Path=AxisBandsFill}" />
        <Setter Property="LabelProvider" Value="{Binding DefaultLabelProvider, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="AxisAlignment" Value="{Binding IsXAxis, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BooleanToDefaultAxisAlignmentConverter}}" />
        <Setter Property="Orientation" Value="{Binding AxisAlignment, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource AxisAlignmentToAxisOrientationConverter}}" />
        <Setter Property="IsCenterAxis" Value="{Binding IsPolarAxis, RelativeSource={RelativeSource Self}}" />
        <Setter Property="GrowBy">
            <Setter.Value>
                <s:DoubleRange Max="0.0" Min="0.0" />
            </Setter.Value>
        </Setter>
        <Setter Property="MajorTickLineStyle">
            <Setter.Value>
                <Style TargetType="Line">
                    <Setter Property="Stroke" Value="{z:ThemeBinding Path=MajorGridLinesBrush}" />
                    <Setter Property="StrokeThickness" Value="1" />
                    <Setter Property="StrokeEndLineCap" Value="Square" />
                    <Setter Property="X2" Value="6" />
                    <Setter Property="Y2" Value="6" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="MinorTickLineStyle">
            <Setter.Value>
                <Style TargetType="Line">
                    <Setter Property="Stroke" Value="{z:ThemeBinding Path=MinorGridLinesBrush}" />
                    <Setter Property="StrokeThickness" Value="1" />
                    <Setter Property="StrokeEndLineCap" Value="Square" />
                    <Setter Property="X2" Value="3" />
                    <Setter Property="Y2" Value="3" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="MajorGridLineStyle">
            <Setter.Value>
                <Style TargetType="Line">
                    <Setter Property="Stroke" Value="{z:ThemeBinding Path=MajorGridLinesBrush}" />
                    <Setter Property="StrokeThickness" Value="1" />
                    <Setter Property="StrokeEndLineCap" Value="Square" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="MinorGridLineStyle">
            <Setter.Value>
                <Style TargetType="Line">
                    <Setter Property="Stroke" Value="{z:ThemeBinding Path=MinorGridLinesBrush}" />
                    <Setter Property="StrokeThickness" Value="1" />
                    <Setter Property="StrokeEndLineCap" Value="Square" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="axes:AxisBase">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Common:Device.SnapsToDevicePixels="True">

                        <StackPanel x:Name="PART_AxisContainer"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    Common:AxisLayoutHelper.AxisAlignment="{Binding AxisAlignment,
                                                                                    RelativeSource={RelativeSource TemplatedParent},
                                                                                    Mode=OneWay}"
                                    Common:Device.SnapsToDevicePixels="True"
                                    Orientation="{Binding AxisAlignment,
                                                          RelativeSource={RelativeSource TemplatedParent},
                                                          Mode=OneWay,
                                                          Converter={StaticResource AxisAlignmentToAxisOrientationConverter},
                                                          ConverterParameter=Inverse}">

                            <Grid HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  Canvas.ZIndex="1"
                                  Common:AxisLayoutHelper.IsInsideItem="True"
                                  Common:Device.SnapsToDevicePixels="True">

                                <themes:AxisPanel x:Name="PART_AxisCanvas"
                                                  AxisAlignment="{TemplateBinding AxisAlignment}"
                                                  Background="Transparent"
                                                  Common:Device.SnapsToDevicePixels="True"
                                                  DrawLabels="{TemplateBinding DrawLabels}"
                                                  DrawMajorTicks="{TemplateBinding DrawMajorTicks}"
                                                  DrawMinorTicks="{TemplateBinding DrawMinorTicks}"
                                                  IsLabelCullingEnabled="{TemplateBinding IsLabelCullingEnabled}"
                                                  MajorTickLineStyle="{TemplateBinding MajorTickLineStyle}"
                                                  MinorTickLineStyle="{TemplateBinding MinorTickLineStyle}">

                                    <Image x:Name="PART_AxisBitmapImage"
                                           HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch"
                                           Common:Device.SnapsToDevicePixels="True"
                                           Stretch="Fill" />

                                    <Grid x:Name="PART_LabelsCanvas" Margin="{Binding LabelToTickIndent, RelativeSource={RelativeSource FindAncestor, AncestorType=themes:AxisPanel}, Mode=OneWay}">
                                        <themes:TickLabelAxisCanvas Background="Transparent"
                                                                    ClipToBounds="False"
                                                                    Common:Device.SnapsToDevicePixels="True"
                                                                    IsLabelCullingEnabled="{TemplateBinding IsLabelCullingEnabled}" />
                                        <themes:TickLabelAxisCanvas Background="Transparent"
                                                                    ClipToBounds="False"
                                                                    Common:Device.SnapsToDevicePixels="True"
                                                                    IsLabelCullingEnabled="{TemplateBinding IsLabelCullingEnabled}"
                                                                    Visibility="Collapsed" />
                                    </Grid>

                                    <axes:AxisTitle Orientation="{TemplateBinding Orientation}"
                                                    Style="{TemplateBinding TitleStyle}"
                                                    Visibility="{Binding Content,
                                                                         RelativeSource={RelativeSource Self},
                                                                         Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />
                                </themes:AxisPanel>

                                <themes:ModifierAxisCanvas x:Name="PART_ModifierAxisCanvas"
                                                           HorizontalAlignment="Stretch"
                                                           VerticalAlignment="Stretch"
                                                           Common:Device.SnapsToDevicePixels="True" />
                            </Grid>

                            <ContentPresenter Common:AxisLayoutHelper.IsOutsideItem="True" Content="{TemplateBinding Scrollbar}" />
                        </StackPanel>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="NumericAxisStyle"
           BasedOn="{StaticResource AxisBaseStyle}"
           TargetType="axes:NumericAxis">
        <Setter Property="TextFormatting" Value="0.###" />
        <Setter Property="CursorTextFormatting" Value="0.##" />
        <Setter Property="MinorsPerMajor" Value="5" />
    </Style>

    <Style BasedOn="{StaticResource NumericAxisStyle}" TargetType="axes:NumericAxis" />

    <Style BasedOn="{StaticResource AxisBaseStyle}" TargetType="axes:DateTimeAxis">
        <Setter Property="TextFormatting" Value="dd MMM yyyy" />
        <Setter Property="SubDayTextFormatting" Value="HH:mm:ss" />
        <Setter Property="MinorsPerMajor" Value="5" />
    </Style>

    <Style BasedOn="{StaticResource AxisBaseStyle}" TargetType="axes:TimeSpanAxis">
        <Setter Property="TextFormatting" Value="-hh\:mm\:ss" />
        <Setter Property="CursorTextFormatting" Value="-d\.hh\:mm\:ss" />
        <Setter Property="MinorsPerMajor" Value="5" />
    </Style>

    <Style BasedOn="{StaticResource AxisBaseStyle}" TargetType="axes:CategoryDateTimeAxis">
        <Setter Property="TextFormatting" Value="dd MMM yyyy" />
        <Setter Property="SubDayTextFormatting" Value="HH:mm" />
        <Setter Property="MinorsPerMajor" Value="3" />
    </Style>

    <Style BasedOn="{StaticResource NumericAxisStyle}" TargetType="axes:PolarYAxis">
        <Setter Property="themes:RadialPanel.Angle" Value="{Binding Angle, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="themes:RadialPanel.OriginPoint" Value="{Binding AxisAlignment, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource AxisAlignmentToTransformOriginConverter}}" />
        <Setter Property="themes:RadialPanel.IsHorizontal" Value="{Binding IsHorizontalAxis, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
    </Style>

    <Style BasedOn="{StaticResource NumericAxisStyle}" TargetType="axes:PolarXAxis">
        <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=MajorGridLinesBrush}" />
        <Setter Property="BorderThickness" Value="0,0,0,1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="axes:PolarXAxis">
                    <Grid themes:PolarPanel.ShouldCopyThicknessToParent="True">
                        <themes:PolarPanel HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch"
                                           Common:Device.SnapsToDevicePixels="True"
                                           IsReversedOrder="True"
                                           themes:PolarPanel.ShouldCopyThicknessToParent="True">
                            <!--  Circular area for axis background  -->
                            <Ellipse HorizontalAlignment="Stretch"
                                     VerticalAlignment="Stretch"
                                     Fill="Transparent"
                                     IsHitTestVisible="False"
                                     Stroke="{TemplateBinding Background}"
                                     StrokeThickness="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                               Path=(themes:PolarPanel.Thickness),
                                                               Mode=OneWay}"
                                     themes:PolarPanel.Thickness="0" />

                            <!--  Outer border  -->
                            <Ellipse HorizontalAlignment="Stretch"
                                     VerticalAlignment="Stretch"
                                     Fill="Transparent"
                                     IsHitTestVisible="False"
                                     Stroke="{TemplateBinding BorderBrush}"
                                     StrokeThickness="{Binding BorderThickness,
                                                               RelativeSource={RelativeSource TemplatedParent},
                                                               Converter={StaticResource ThicknessToDoubleConverter},
                                                               ConverterParameter=Top}"
                                     themes:PolarPanel.Thickness="{Binding StrokeThickness,
                                                                           RelativeSource={RelativeSource Self}}" />

                            <StackPanel x:Name="PART_AxisContainer"
                                        HorizontalAlignment="{Binding AxisAlignment,
                                                                      RelativeSource={RelativeSource TemplatedParent},
                                                                      Converter={StaticResource AxisAlignmentToHorizontalAlignmentConverter}}"
                                        VerticalAlignment="{Binding AxisAlignment,
                                                                    RelativeSource={RelativeSource TemplatedParent},
                                                                    Converter={StaticResource AxisAlignmentToVerticalAlignmentConverter}}"
                                        Common:AxisLayoutHelper.AxisAlignment="{Binding AxisAlignment,
                                                                                        RelativeSource={RelativeSource TemplatedParent},
                                                                                        Mode=OneWay}"
                                        Common:Device.SnapsToDevicePixels="True"
                                        Orientation="{Binding AxisAlignment,
                                                              RelativeSource={RelativeSource TemplatedParent},
                                                              Mode=OneWay,
                                                              Converter={StaticResource AxisAlignmentToAxisOrientationConverter},
                                                              ConverterParameter=Inverse}">

                                <axes:AxisTitle Common:AxisLayoutHelper.IsOutsideItem="True"
                                                Orientation="{TemplateBinding Orientation}"
                                                Style="{TemplateBinding TitleStyle}"
                                                Visibility="{Binding Content,
                                                                     RelativeSource={RelativeSource Self},
                                                                     Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />

                                <ContentPresenter Common:AxisLayoutHelper.IsInsideItem="True" Content="{TemplateBinding Scrollbar}" />

                            </StackPanel>

                            <Grid HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  Common:Device.SnapsToDevicePixels="True">
                                <themes:PolarAxisPanel x:Name="PART_AxisCanvas"
                                                       AxisAlignment="{TemplateBinding AxisAlignment}"
                                                       Common:Device.SnapsToDevicePixels="True"
                                                       DrawLabels="{TemplateBinding DrawLabels}"
                                                       DrawMajorTicks="{TemplateBinding DrawMajorTicks}"
                                                       DrawMinorTicks="{TemplateBinding DrawMinorTicks}"
                                                       IsHitTestVisible="False"
                                                       IsLabelCullingEnabled="{TemplateBinding IsLabelCullingEnabled}"
                                                       MajorTickLineStyle="{TemplateBinding MajorTickLineStyle}"
                                                       MinorTickLineStyle="{TemplateBinding MinorTickLineStyle}"
                                                       themes:PolarPanel.ShouldCopyThicknessToParent="True">

                                    <themes:PolarPanel HorizontalAlignment="Stretch"
                                                       VerticalAlignment="Stretch"
                                                       Common:Device.SnapsToDevicePixels="True"
                                                       IsReversedOrder="True"
                                                       themes:ShouldCopyThicknessToParent="True">
                                        <Grid x:Name="PART_LabelsCanvas" Common:Device.SnapsToDevicePixels="True">

                                            <themes:PolarTickLabelAxisCanvas HorizontalAlignment="Stretch"
                                                                             VerticalAlignment="Stretch"
                                                                             Background="Transparent"
                                                                             ClipToBounds="False"
                                                                             Common:Device.SnapsToDevicePixels="True"
                                                                             IsLabelCullingEnabled="{TemplateBinding IsLabelCullingEnabled}"
                                                                             themes:PolarPanel.ShouldCopyThicknessToParent="True"
                                                                             themes:PolarPanel.Thickness="{Binding MaxChildSize,
                                                                                                                   RelativeSource={RelativeSource Self},
                                                                                                                   Mode=OneWay}" />
                                            <themes:PolarTickLabelAxisCanvas HorizontalAlignment="Stretch"
                                                                             VerticalAlignment="Stretch"
                                                                             Background="Transparent"
                                                                             ClipToBounds="False"
                                                                             Common:Device.SnapsToDevicePixels="True"
                                                                             IsLabelCullingEnabled="{TemplateBinding IsLabelCullingEnabled}"
                                                                             Visibility="Collapsed"
                                                                             themes:PolarPanel.ShouldCopyThicknessToParent="True"
                                                                             themes:PolarPanel.Thickness="{Binding MaxChildSize,
                                                                                                                   RelativeSource={RelativeSource Self},
                                                                                                                   Mode=OneWay}" />
                                        </Grid>

                                        <!--  Border for indent between tick and tick labels  -->
                                        <Border themes:PolarPanel.Thickness="{Binding AxisLabelToTickIndent, RelativeSource={RelativeSource AncestorType=themes:PolarAxisPanel}, Mode=OneWay}" />

                                        <Image x:Name="PART_AxisBitmapImage"
                                               HorizontalAlignment="Stretch"
                                               VerticalAlignment="Stretch"
                                               Common:Device.SnapsToDevicePixels="True"
                                               Stretch="Fill"
                                               themes:PolarPanel.Thickness="{Binding MajorTickSize,
                                                                                     RelativeSource={RelativeSource AncestorType=themes:PolarAxisPanel},
                                                                                     Mode=OneWay}" />
                                    </themes:PolarPanel>
                                </themes:PolarAxisPanel>

                            </Grid>

                            <!--  Inner border  -->
                            <Ellipse HorizontalAlignment="Stretch"
                                     VerticalAlignment="Stretch"
                                     Fill="Transparent"
                                     IsHitTestVisible="False"
                                     Stroke="{TemplateBinding BorderBrush}"
                                     StrokeThickness="{Binding BorderThickness,
                                                               RelativeSource={RelativeSource TemplatedParent},
                                                               Converter={StaticResource ThicknessToDoubleConverter},
                                                               ConverterParameter=Bottom}"
                                     themes:PolarPanel.Thickness="{Binding StrokeThickness,
                                                                           RelativeSource={RelativeSource Self}}" />
                        </themes:PolarPanel>

                        <themes:PolarModifierAxisCanvas x:Name="PART_ModifierAxisCanvas"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Stretch"
                                                        Common:Device.SnapsToDevicePixels="True" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="RolloverMarkerEllipseStyle" TargetType="Ellipse">
        <Setter Property="Fill" Value="{z:ThemeBinding Path=RolloverLabelBackgroundBrush}" />
        <Setter Property="Stroke" Value="{z:ThemeBinding Path=RolloverLabelBorderBrush}" />
    </Style>

    <DataTemplate x:Key="DefaultRolloverMarkerTemplate">
        <Ellipse Width="9"
                 Height="9"
                 StrokeThickness="2"
                 Style="{StaticResource RolloverMarkerEllipseStyle}" />
    </DataTemplate>

    <DataTemplate x:Key="DefaultBandSeriesRolloverMarkerTemplate">
        <Ellipse Width="7"
                 Height="7"
                 Style="{StaticResource RolloverMarkerEllipseStyle}" />
    </DataTemplate>

    <Style x:Key="DefaultPointMarker" TargetType="pointMarkers:BasePointMarker">
        <Setter Property="Width" Value="7" />
        <Setter Property="Height" Value="7" />
        <Setter Property="Fill" Value="{Binding SeriesColor}" />
        <Setter Property="Stroke" Value="{Binding SeriesColor}" />
        <Setter Property="AntiAliasing" Value="{Binding AntiAliasing}" />
    </Style>

    <Style BasedOn="{StaticResource DefaultPointMarker}" TargetType="pointMarkers:EllipsePointMarker">
        <Setter Property="PointMarkerTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <Ellipse Width="{Binding DataContext.PointMarker.Width,
                                             RelativeSource={RelativeSource TemplatedParent}}"
                             Height="{Binding DataContext.PointMarker.Height,
                                              RelativeSource={RelativeSource TemplatedParent}}"
                             Fill="{Binding DataContext.PointMarker.Fill,
                                            RelativeSource={RelativeSource TemplatedParent},
                                            Converter={StaticResource ColorToBrushConverter}}"
                             Stroke="{Binding DataContext.PointMarker.Stroke,
                                              RelativeSource={RelativeSource TemplatedParent},
                                              Converter={StaticResource ColorToBrushConverter}}"
                             StrokeThickness="{Binding DataContext.PointMarker.StrokeThickness,
                                                       RelativeSource={RelativeSource TemplatedParent}}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource DefaultPointMarker}" TargetType="pointMarkers:SquarePointMarker">
        <Setter Property="PointMarkerTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <Border Width="{Binding DataContext.PointMarker.Width,
                                            RelativeSource={RelativeSource TemplatedParent}}"
                            Height="{Binding DataContext.PointMarker.Height,
                                             RelativeSource={RelativeSource TemplatedParent}}"
                            Background="{Binding DataContext.PointMarker.Fill,
                                                 RelativeSource={RelativeSource TemplatedParent},
                                                 Converter={StaticResource ColorToBrushConverter}}"
                            BorderBrush="{Binding DataContext.PointMarker.Stroke,
                                                  RelativeSource={RelativeSource TemplatedParent},
                                                  Converter={StaticResource ColorToBrushConverter}}"
                            BorderThickness="{Binding DataContext.PointMarker.StrokeThickness,
                                                      RelativeSource={RelativeSource TemplatedParent}}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource DefaultPointMarker}" TargetType="pointMarkers:CrossPointMarker">
        <Setter Property="Width" Value="9" />
        <Setter Property="Height" Value="9" />
        <Setter Property="PointMarkerTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <Grid>
                        <Grid.Resources>
                            <Style TargetType="Line">
                                <Setter Property="Stretch" Value="Fill" />
                                <Setter Property="Height" Value="{Binding DataContext.PointMarker.Height, RelativeSource={RelativeSource TemplatedParent}}" />
                                <Setter Property="Width" Value="{Binding DataContext.PointMarker.Width, RelativeSource={RelativeSource TemplatedParent}}" />
                                <Setter Property="Stroke" Value="{Binding DataContext.PointMarker.Stroke, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource ColorToBrushConverter}}" />
                                <Setter Property="StrokeThickness" Value="{Binding DataContext.PointMarker.StrokeThickness, RelativeSource={RelativeSource TemplatedParent}}" />
                            </Style>
                        </Grid.Resources>

                        <Line Stretch="Fill"
                              X1="0"
                              X2="1"
                              Y1="0.4"
                              Y2="0.4" />
                        <Line Stretch="Fill"
                              X1="0.5"
                              X2="0.5"
                              Y1="0"
                              Y2="1" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource DefaultPointMarker}" TargetType="pointMarkers:TrianglePointMarker">
        <Setter Property="PointMarkerTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <Grid>
                        <Polygon Width="{Binding DataContext.PointMarker.Width,
                                                 RelativeSource={RelativeSource TemplatedParent}}"
                                 Height="{Binding DataContext.PointMarker.Height,
                                                  RelativeSource={RelativeSource TemplatedParent}}"
                                 Fill="{Binding DataContext.PointMarker.Fill,
                                                RelativeSource={RelativeSource TemplatedParent},
                                                Converter={StaticResource ColorToBrushConverter}}"
                                 Points="0,0 1,0 0.5,1 0,0"
                                 Stretch="Uniform"
                                 Stroke="{Binding DataContext.PointMarker.Stroke,
                                                  RelativeSource={RelativeSource TemplatedParent},
                                                  Converter={StaticResource ColorToBrushConverter}}"
                                 StrokeThickness="{Binding DataContext.PointMarker.StrokeThickness,
                                                           RelativeSource={RelativeSource TemplatedParent}}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <DataTemplate x:Key="DefaultLegendMarkerTemplate" DataType="r:BaseRenderableSeries">
        <Line VerticalAlignment="Center"
              Stretch="Fill"
              Stroke="{Binding SeriesColor,
                               Converter={StaticResource ColorToBrushConverter}}"
              StrokeThickness="2"
              X1="0"
              X2="1"
              Y1="0.5"
              Y2="0.5" />
    </DataTemplate>

    <DataTemplate x:Key="LineSeriesLegendMarkerTemplate" DataType="r:FastLineRenderableSeries">
        <Grid>
            <Grid.Resources>
                <Style TargetType="Line">
                    <Setter Property="Stretch" Value="Fill" />
                    <Setter Property="X1" Value="0" />
                    <Setter Property="X2" Value="1" />
                    <Setter Property="Y1" Value="0.5" />
                    <Setter Property="Y2" Value="0.5" />
                    <Setter Property="StrokeThickness" Value="2" />
                    <Setter Property="Visibility" Value="{Binding PointMarker, Converter={StaticResource NullToVisibilityConverter}}" />
                    <Setter Property="StrokeDashArray" Value="{Binding StrokeDashArray, Converter={StaticResource DoubleArrayToDoubleCollectionConverter}}" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Setter Property="Stroke" Value="{Binding SeriesColor, Converter={StaticResource ColorToBrushConverter}}" />
                </Style>
            </Grid.Resources>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Line Grid.ColumnSpan="3" Visibility="{Binding PointMarker, Converter={StaticResource NullToVisibilityConverter}, ConverterParameter=Inverse}" />

            <Line Grid.Column="0" />
            <Viewbox Grid.Column="1"
                     Stretch="Uniform"
                     Visibility="{Binding PointMarker,
                                          Converter={StaticResource NullToVisibilityConverter}}">
                <r:TemplatableControl Template="{Binding PointMarker.PointMarkerTemplate}" />
            </Viewbox>
            <Line Grid.Column="2" />

        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="OhlcLegendMarkerTemplate">
        <Line VerticalAlignment="Center"
              Stretch="Fill"
              Stroke="{Binding UpWickColor,
                               Converter={StaticResource ColorToBrushConverter}}"
              StrokeThickness="2"
              X1="0"
              X2="1"
              Y1="0.5"
              Y2="0.5" />
    </DataTemplate>

    <DataTemplate x:Key="ScatterSeriesLegendMarkerTemplate" DataType="r:XyScatterRenderableSeries">
        <Grid>
            <Viewbox HorizontalAlignment="Center" Stretch="Uniform">
                <r:TemplatableControl Template="{Binding PointMarker.PointMarkerTemplate}" />
            </Viewbox>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="MountainSeriesLegendMarkerTemplate" DataType="r:FastMountainRenderableSeries">
        <Border BorderBrush="{Binding SeriesColor, Converter={StaticResource ColorToBrushConverter}}" BorderThickness="{Binding StrokeThickness, Converter={StaticResource DoubleToThicknessConverter}}">
            <Rectangle Fill="{Binding AreaBrush}" Stretch="Fill" />
        </Border>
    </DataTemplate>

    <DataTemplate x:Key="ColumnSeriesLegendMarkerTemplate" DataType="r:FastColumnRenderableSeries">
        <Border BorderBrush="{Binding SeriesColor, Converter={StaticResource ColorToBrushConverter}}" BorderThickness="{Binding StrokeThickness}">
            <Rectangle Fill="{Binding FillBrush}" Stretch="Fill" />
        </Border>
    </DataTemplate>

    <DataTemplate x:Key="BandSeriesLegendMarkerTemplate" DataType="r:FastBandRenderableSeries">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Border HorizontalAlignment="Stretch"
                    Background="{Binding BandUpColor,
                                         Converter={StaticResource ColorToBrushConverter}}"
                    BorderBrush="{Binding SeriesColor,
                                          Converter={StaticResource ColorToBrushConverter}}"
                    BorderThickness="1,1,0,1" />

            <Border Grid.Column="1"
                    HorizontalAlignment="Stretch"
                    Background="{Binding BandDownColor,
                                         Converter={StaticResource ColorToBrushConverter}}"
                    BorderBrush="{Binding Series1Color,
                                          Converter={StaticResource ColorToBrushConverter}}"
                    BorderThickness="0,1,1,1" />
        </Grid>
    </DataTemplate>

    <Style x:Key="DefaultRenderableSeriesStyle" TargetType="r:BaseRenderableSeries">
        <Setter Property="RolloverMarkerTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <r:TemplatableControl ContentTemplate="{StaticResource DefaultRolloverMarkerTemplate}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource DefaultLegendMarkerTemplate}" />
    </Style>

    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:BaseRenderableSeries" />

    <!--  ErrorBars Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastErrorBarsRenderableSeries" />

    <!--  Candlestick Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastCandlestickRenderableSeries">
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource OhlcLegendMarkerTemplate}" />
        <Setter Property="UpWickColor" Value="{z:ThemeBinding Path=DefaultCandleUpWickColor}" />
        <Setter Property="DownWickColor" Value="{z:ThemeBinding Path=DefaultCandleDownWickColor}" />
        <Setter Property="UpBodyBrush" Value="{z:ThemeBinding Path=DefaultCandleUpBodyBrush}" />
        <Setter Property="DownBodyBrush" Value="{z:ThemeBinding Path=DefaultCandleDownBodyBrush}" />
    </Style>

    <!--  OHLC Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastOhlcRenderableSeries">
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource OhlcLegendMarkerTemplate}" />
        <Setter Property="UpWickColor" Value="{z:ThemeBinding Path=DefaultCandleUpWickColor}" />
        <Setter Property="DownWickColor" Value="{z:ThemeBinding Path=DefaultCandleDownWickColor}" />
    </Style>

    <!--  Column Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastColumnRenderableSeries">
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource ColumnSeriesLegendMarkerTemplate}" />
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultColumnOutlineColor}" />
        <Setter Property="FillBrush" Value="{z:ThemeBinding Path=DefaultColumnFillBrush}" />
    </Style>

    <!--  Stacked Column Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:StackedColumnRenderableSeries">
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource ColumnSeriesLegendMarkerTemplate}" />
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultColumnOutlineColor}" />
        <Setter Property="FillBrush" Value="{z:ThemeBinding Path=DefaultColumnFillBrush}" />
    </Style>

    <!--  Line Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastLineRenderableSeries">
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultLineSeriesColor}" />
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource LineSeriesLegendMarkerTemplate}" />
    </Style>

    <!--  Mountain Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastMountainRenderableSeries">
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource MountainSeriesLegendMarkerTemplate}" />
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultMountainLineColor}" />
        <Setter Property="AreaBrush" Value="{z:ThemeBinding Path=DefaultMountainAreaBrush}" />
    </Style>

    <!--  Stacked Mountain Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:StackedMountainRenderableSeries">
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultMountainLineColor}" />
        <Setter Property="AreaBrush" Value="{z:ThemeBinding Path=DefaultMountainAreaBrush}" />
    </Style>

    <!--  Heatmap Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastHeatMapRenderableSeries">
        <Setter Property="ColorMap" Value="{z:ThemeBinding Path=DefaultColorMapBrush}" />
    </Style>

    <!--  Scatter Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:XyScatterRenderableSeries">
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource ScatterSeriesLegendMarkerTemplate}" />
        <Setter Property="AntiAliasing" Value="False" />
    </Style>

    <!--  Band Series  -->
    <Style TargetType="r:FastBandRenderableSeries">
        <Setter Property="BandDownColor" Value="{z:ThemeBinding Path=DefaultDownBandFillColor}" />
        <Setter Property="BandUpColor" Value="{z:ThemeBinding Path=DefaultUpBandFillColor}" />
        <Setter Property="Series1Color" Value="{z:ThemeBinding Path=DefaultDownBandLineColor}" />
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultUpBandLineColor}" />
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource BandSeriesLegendMarkerTemplate}" />
        <Setter Property="RolloverMarkerTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <r:TemplatableControl ContentTemplate="{StaticResource DefaultBandSeriesRolloverMarkerTemplate}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  Impulse Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastImpulseRenderableSeries">
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultLineSeriesColor}" />
        <Setter Property="LegendMarkerTemplate" Value="{StaticResource ScatterSeriesLegendMarkerTemplate}" />
        <Setter Property="PointMarkerTemplate">
            <Setter.Value>
                <ControlTemplate>
                    <pointMarkers:EllipsePointMarker Width="5"
                                                     Height="5"
                                                     Fill="{Binding DataContext.SeriesColor,
                                                                    RelativeSource={RelativeSource TemplatedParent}}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  BoxPlot Series  -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:FastBoxPlotRenderableSeries">
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultLineSeriesColor}" />
    </Style>

    <!-- BoxVolume series -->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:BoxVolumeRenderableSeries">
        <Setter Property="Timeframe2Color" Value="{z:ThemeBinding Path=BoxVolumeTimeframe2Color}" />
        <Setter Property="Timeframe2FrameColor" Value="{z:ThemeBinding Path=BoxVolumeTimeframe2FrameColor}" />
        <Setter Property="Timeframe3Color" Value="{z:ThemeBinding Path=BoxVolumeTimeframe3Color}" />
        <Setter Property="CellFontColor" Value="{z:ThemeBinding Path=BoxVolumeCellFontColor}" />
        <Setter Property="HighVolColor" Value="{z:ThemeBinding Path=BoxVolumeHighVolColor}" />
    </Style>

    <!-- Cluster profile series 	-->
    <Style BasedOn="{StaticResource DefaultRenderableSeriesStyle}" TargetType="r:ClusterProfileRenderableSeries">
        <Setter Property="LineColor" Value="{z:ThemeBinding Path=ClusterProfileLineColor}" />
        <Setter Property="TextColor" Value="{z:ThemeBinding Path=ClusterProfileTextColor}" />
        <Setter Property="ClusterColor" Value="{z:ThemeBinding Path=ClusterProfileClusterColor}" />
        <Setter Property="ClusterMaxColor" Value="{z:ThemeBinding Path=ClusterProfileClusterMaxColor}" />
    </Style>

    <!--  Label used in cursors  -->
    <Style x:Key="HintDataItemsStyle" TargetType="TextBlock">
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=CursorLabelForeground}" />
        <Setter Property="FontWeight" Value="Bold" />
        <Setter Property="FontFamily" Value="Arial" />
        <Setter Property="FontSize" Value="13" />
        <Setter Property="Margin" Value="3,2,2,2" />
    </Style>

    <!--  Template for the RolloverModifier tooltip to display AxisInfo collection (result of hit test)  -->
    <DataTemplate x:Key="BoxPlotRolloverLabelTemplate">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.ColumnSpan="2"
                       HorizontalAlignment="Left"
                       Style="{StaticResource HintDataItemsStyle}"
                       Text="{Binding SeriesName}"
                       Visibility="{Binding SeriesName,
                                            Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />

            <StackPanel Grid.Row="1">
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Maximum" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="UpperQuartile" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Median" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="LowerQuartile" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Minimum" />
            </StackPanel>

            <StackPanel Grid.Row="1" Grid.Column="1">
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedMaximumValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedUpperQuartileValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedMedianValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedLowerQuartileValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedMinimumValue}" />
            </StackPanel>

        </Grid>

    </DataTemplate>

    <!--  Template for the RolloverModifier tooltip to display AxisInfo collection (result of hit test)  -->
    <DataTemplate x:Key="OhlcSeriesRolloverLabelTemplate">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.ColumnSpan="2"
                       HorizontalAlignment="Left"
                       Style="{StaticResource HintDataItemsStyle}"
                       Text="{Binding SeriesName}"
                       Visibility="{Binding SeriesName,
                                            Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />

            <StackPanel Grid.Row="1">
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Open" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Highest" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Lowest" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Close" />
            </StackPanel>

            <StackPanel Grid.Row="1" Grid.Column="1">
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedOpenValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedHighValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedLowValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedCloseValue}" />
            </StackPanel>

        </Grid>

    </DataTemplate>

    <DataTemplate x:Key="HlcSeriesRolloverLabelTemplate">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.ColumnSpan="2"
                       HorizontalAlignment="Left"
                       Style="{StaticResource HintDataItemsStyle}"
                       Text="{Binding SeriesName}"
                       Visibility="{Binding SeriesName,
                                            Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />

            <StackPanel Grid.Row="1">
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="High" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Low" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="Close" />
            </StackPanel>

            <StackPanel Grid.Row="1" Grid.Column="1">
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedHighValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedLowValue}" />
                <TextBlock HorizontalAlignment="Left"
                           Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding FormattedCloseValue}" />
            </StackPanel>

        </Grid>

    </DataTemplate>

    <DataTemplate x:Key="XySeriesRolloverLabelTemplate">

        <StackPanel Orientation="Vertical">
            <TextBlock Style="{StaticResource HintDataItemsStyle}"
                       Text="{Binding SeriesName,
                                      StringFormat='{}{0}:'}"
                       Visibility="{Binding SeriesName,
                                            Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />
            <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding FormattedYValue}" />
        </StackPanel>

    </DataTemplate>

    <DataTemplate x:Key="BandSeries1RolloverLabelTemplate">
        <StackPanel>
            <StackPanel Orientation="Horizontal">
                <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding FormattedY1Value}" />
            </StackPanel>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="BandSeries2RolloverLabelTemplate">
        <StackPanel>
            <StackPanel Orientation="Horizontal">
                <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding FormattedYValue}" />
            </StackPanel>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="BandSeriesCursorLabelTemplate">
        <StackPanel>
            <StackPanel Orientation="Vertical">
                <TextBlock Style="{StaticResource HintDataItemsStyle}"
                           Text="{Binding SeriesName}"
                           Visibility="{Binding SeriesName,
                                                Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />
                <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding ., Converter={StaticResource BandSeriesInfoToYValueConverter}, ConverterParameter=greater}" />
                <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding ., Converter={StaticResource BandSeriesInfoToYValueConverter}, ConverterParameter=lower}" />
            </StackPanel>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="HeatmapRolloverLabelTemplate">
        <StackPanel Margin="5" Orientation="Vertical">

            <TextBlock Style="{StaticResource HintDataItemsStyle}"
                       Text="{Binding SeriesName,
                                      StringFormat='{}{0}:'}"
                       Visibility="{Binding SeriesName,
                                            Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />

            <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding FormattedXValue, StringFormat='{}X: {0}'}" />

            <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding FormattedYValue, StringFormat='{}Y: {0}'}" />

            <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding ZValue, StringFormat='{}Z: {0:0.00}'}" />

        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="OneHundredPercentStackedSeriesRolloverLabelTemplate">
        <StackPanel Orientation="Vertical">
            <TextBlock Style="{StaticResource HintDataItemsStyle}"
                       Text="{Binding SeriesName,
                                      StringFormat='{}{0}:'}"
                       Visibility="{Binding SeriesName,
                                            Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />
            <TextBlock Style="{StaticResource HintDataItemsStyle}">
                <Run Text="{Binding FormattedYValue, Mode=OneWay}" />
                <Run Text="{Binding Percentage, StringFormat='{}({0:0.00}%)'}" />
            </TextBlock>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="TimeframeSegmentSeriesRolloverLabelTemplate">
        <StackPanel Orientation="Vertical">
            <TextBlock Style="{StaticResource HintDataItemsStyle}"
                       Text="{Binding SeriesName, StringFormat='{}{0}:'}"
                       Visibility="{Binding SeriesName, Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}" />
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Grid.Resources>
                    <Style TargetType="TextBlock" BasedOn="{StaticResource HintDataItemsStyle}"/>
                </Grid.Resources>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="Time = " HorizontalAlignment="Right" Visibility="{Binding FormattedXValue, Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}"/>
                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding FormattedXValue, Mode=OneWay}" Visibility="{Binding FormattedXValue, Converter={StaticResource CollapseIfNullOrEmptyStringConverter}}"/>

                <TextBlock Grid.Row="1" Grid.Column="0" Text="Y = " HorizontalAlignment="Right"/>
                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding FormattedYValue, Mode=OneWay}"/>

                <TextBlock Grid.Row="2" Grid.Column="0" Text="Volume = " HorizontalAlignment="Right"/>
                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Volume, Mode=OneWay}"/>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <Style x:Key="DefaultSeriesInfoTemplateSelectorStyle" TargetType="s:SeriesInfoTemplateSelector">
        <Setter Property="DefaultTemplate" Value="{StaticResource XySeriesRolloverLabelTemplate}" />
        <Setter Property="BandSeries1Template" Value="{StaticResource BandSeriesCursorLabelTemplate}" />
        <Setter Property="BandSeries2Template" Value="{StaticResource BandSeriesCursorLabelTemplate}" />
        <Setter Property="BoxPlotSeriesTemplate" Value="{StaticResource BoxPlotRolloverLabelTemplate}" />
        <Setter Property="OhlcSeriesTemplate" Value="{StaticResource OhlcSeriesRolloverLabelTemplate}" />
        <Setter Property="HlcSeriesTemplate" Value="{StaticResource HlcSeriesRolloverLabelTemplate}" />
        <Setter Property="HeatmapSeriesTemplate" Value="{StaticResource HeatmapRolloverLabelTemplate}" />
        <Setter Property="OneHundredPercentStackedSeriesTemplate" Value="{StaticResource OneHundredPercentStackedSeriesRolloverLabelTemplate}" />
        <Setter Property="TimeframeSegmentSeriesTemplate" Value="{StaticResource TimeframeSegmentSeriesRolloverLabelTemplate}" />
    </Style>

    <Style BasedOn="{StaticResource DefaultSeriesInfoTemplateSelectorStyle}" TargetType="s:SeriesInfoTemplateSelector" />

    <Style TargetType="r:TooltipControl">
        <Setter Property="SelectorContext" Value="{Binding DataContext, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
    </Style>

    <!--  Template for the RolloverModifier tooltip to display single SeriesInfo (result of hit test)  -->
    <ControlTemplate x:Key="RolloverLabelTemplate" TargetType="r:TooltipControl">
        <Border BorderThickness="1" CornerRadius="5">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="Background" Value="{z:ThemeBinding Path=CursorLabelBackgroundBrush}" />
                    <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=CursorLabelBorderBrush}" />
                </Style>
            </Border.Style>
            <ContentControl Content="{TemplateBinding SelectorContext}" ContentTemplate="{TemplateBinding ContentTemplate}" />
        </Border>
    </ControlTemplate>

    <DataTemplate x:Key="AxisLabelTemplate" DataType="r:AxisInfo">
        <Border Margin="1"
                BorderThickness="1"
                CornerRadius="2">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="Background" Value="{z:ThemeBinding Path=CursorLabelBackgroundBrush}" />
                    <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=CursorLabelBorderBrush}" />
                </Style>
            </Border.Style>
            <TextBlock Style="{StaticResource HintDataItemsStyle}" Text="{Binding CursorFormattedDataValue}" />
        </Border>
    </DataTemplate>

    <DataTemplate x:Key="EmptyDataTemplate" DataType="r:AxisInfo" />

    <!--  Template for AxesLabels for cursor and rollover modifiers  -->
    <ControlTemplate x:Key="DefaultAxesLabelTemplate" TargetType="r:TooltipControl">
        <ContentControl Content="{TemplateBinding SelectorContext}" ContentTemplate="{TemplateBinding ContentTemplate}" />
    </ControlTemplate>

    <Style x:Key="DefaultVerticalSliceBaseStyle" TargetType="c:VerticalSliceModifierBase">
        <Setter Property="TooltipLabelTemplateSelector" Value="{Binding DefaultTooltipLabelTemplateSelector, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="AxisLabelTemplateSelector" Value="{Binding DefaultAxisLabelTemplateSelector, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="DefaultAxisLabelTemplateSelectorStyle">
            <Setter.Value>
                <Style TargetType="s:AxisInfoTemplateSelector">
                    <Setter Property="XAxisDataTemplate" Value="{StaticResource AxisLabelTemplate}" />
                    <Setter Property="YAxisDataTemplate" Value="{StaticResource EmptyDataTemplate}" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="DefaultTooltipLabelTemplateSelectorStyle" Value="{StaticResource DefaultSeriesInfoTemplateSelectorStyle}" />
    </Style>

    <!--  RolloverModifier  -->
    <Style x:Key="DefaultRolloverModifierStyle"
           BasedOn="{StaticResource DefaultVerticalSliceBaseStyle}"
           TargetType="c:RolloverModifier">
        <Setter Property="ShowTooltipOn" Value="MouseOver" />
        <Setter Property="LineOverlayStyle">
            <Setter.Value>
                <Style TargetType="Line">
                    <Setter Property="Stroke" Value="{z:ThemeBinding Path=RolloverLineStroke}" />
                    <Setter Property="StrokeThickness" Value="7" />
                    <!--  Should appear beneath the markers  -->
                    <Setter Property="Canvas.ZIndex" Value="-1" />
                    <Setter Property="IsHitTestVisible" Value="False" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="TooltipLabelTemplate" Value="{StaticResource RolloverLabelTemplate}" />
        <Setter Property="AxisLabelTemplate" Value="{StaticResource DefaultAxesLabelTemplate}" />
    </Style>

    <Style BasedOn="{StaticResource DefaultRolloverModifierStyle}" TargetType="c:RolloverModifier" />

    <!--  VerticalLineRolloverModifier  -->
    <Style BasedOn="{StaticResource DefaultVerticalSliceBaseStyle}" TargetType="c:VerticalSliceModifier">
        <Setter Property="ShowTooltipOn" Value="Always" />
        <Setter Property="TooltipLabelTemplate" Value="{StaticResource RolloverLabelTemplate}" />
        <Setter Property="AxisLabelTemplate" Value="{StaticResource DefaultAxesLabelTemplate}" />
        <Setter Property="UseInterpolation" Value="True" />
        <Setter Property="ShowAxisLabels" Value="False" />
    </Style>

    <!--  TooltipModifier  -->
    <Style TargetType="c:TooltipModifier">
        <Setter Property="ShowTooltipOn" Value="MouseOver" />
        <Setter Property="LineOverlayStyle" Value="{x:Null}" />
        <Setter Property="TooltipLabelTemplate" Value="{StaticResource RolloverLabelTemplate}" />
        <Setter Property="AxisLabelTemplate" Value="{x:Null}" />
        <Setter Property="TooltipLabelTemplateSelector" Value="{Binding DefaultTooltipLabelTemplateSelector, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="AxisLabelTemplateSelector" Value="{Binding DefaultAxisLabelTemplateSelector, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="DefaultTooltipLabelTemplateSelectorStyle" Value="{StaticResource DefaultSeriesInfoTemplateSelectorStyle}" />
    </Style>

    <!--  RubberBandModifier  -->
    <Style x:Key="DefaultRubberBandModifierStyle" TargetType="c:RubberBandXyZoomModifier">
        <Setter Property="RubberBandFill" Value="{z:ThemeBinding Path=RubberBandFillBrush}" />
        <Setter Property="RubberBandStroke" Value="{z:ThemeBinding Path=RubberBandStrokeBrush}" />
    </Style>

    <Style BasedOn="{StaticResource DefaultRubberBandModifierStyle}" TargetType="c:RubberBandXyZoomModifier" />

    <!--  Template for the CursorModifier tooltip to display SeriesInfo collection (result of hit test)  -->
    <ControlTemplate x:Key="CursorLabelTemplate" TargetType="r:TooltipControl">

        <Border BorderThickness="1" CornerRadius="5">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="Background" Value="{z:ThemeBinding Path=CursorLabelBackgroundBrush}" />
                    <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=CursorLabelBorderBrush}" />
                </Style>
            </Border.Style>

            <ItemsControl Margin="6" ItemsSource="{Binding SelectorContext.SeriesData.SeriesInfo, RelativeSource={RelativeSource TemplatedParent}}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <r:TooltipControl Selector="{Binding Selector, RelativeSource={RelativeSource AncestorType=r:TooltipControl}}" Template="{StaticResource DefaultAxesLabelTemplate}" />
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Border>
    </ControlTemplate>

    <!--  CursorModifier  -->
    <Style x:Key="DefaultCursorModifierStyle" TargetType="c:CursorModifier">
        <Setter Property="ShowTooltipOn" Value="Always" />
        <Setter Property="UseInterpolation" Value="True" />
        <Setter Property="LineOverlayStyle">
            <Setter.Value>
                <Style TargetType="Line">
                    <Setter Property="Stroke" Value="{z:ThemeBinding Path=CursorLineBrush}" />
                    <Setter Property="StrokeThickness" Value="0.5" />
                    <Setter Property="Common:Device.SnapsToDevicePixels" Value="True" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="TooltipLabelTemplate" Value="{StaticResource CursorLabelTemplate}" />
        <Setter Property="AxisLabelTemplate" Value="{StaticResource DefaultAxesLabelTemplate}" />
        <Setter Property="TooltipLabelTemplateSelector" Value="{Binding DefaultTooltipLabelTemplateSelector, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="AxisLabelTemplateSelector" Value="{Binding DefaultAxisLabelTemplateSelector, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="DefaultAxisLabelTemplateSelectorStyle">
            <Setter.Value>
                <Style TargetType="s:AxisInfoTemplateSelector">
                    <Setter Property="XAxisDataTemplate" Value="{StaticResource AxisLabelTemplate}" />
                    <Setter Property="YAxisDataTemplate" Value="{StaticResource AxisLabelTemplate}" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="DefaultTooltipLabelTemplateSelectorStyle" Value="{StaticResource DefaultSeriesInfoTemplateSelectorStyle}" />
    </Style>

    <Style BasedOn="{StaticResource DefaultCursorModifierStyle}" TargetType="c:CursorModifier" />

    <DataTemplate x:Key="UltrachartLegendItemTemplate" DataType="s:SeriesInfo">
        <StackPanel Orientation="Horizontal">
            <CheckBox Width="16"
                      Margin="5,0,0,0"
                      HorizontalAlignment="Left"
                      VerticalAlignment="Center"
                      IsChecked="{Binding RenderableSeries.IsVisible,
                                          Mode=TwoWay}"
                      Visibility="{Binding LegendData.ShowVisibilityCheckboxes,
                                           RelativeSource={RelativeSource AncestorType=visuals:UltrachartLegend},
                                           Converter={StaticResource BooleanToVisibilityConverter}}" />

            <r:PointMarker Width="40"
                           Height="10"
                           Margin="5,0,0,0"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           HorizontalContentAlignment="Stretch"
                           VerticalContentAlignment="Stretch"
                           DataContext="{Binding RenderableSeries}"
                           DeferredContent="{Binding LegendMarkerTemplate}"
                           Visibility="{Binding ShowSeriesMarkers,
                                                RelativeSource={RelativeSource AncestorType=visuals:UltrachartLegend},
                                                Converter={StaticResource BooleanToVisibilityConverter}}" />

            <TextBlock Margin="5,0,5,0"
                       HorizontalAlignment="Left"
                       Text="{Binding SeriesName}" />
        </StackPanel>
    </DataTemplate>

    <!--  UltrachartLegend  -->
    <Style x:Key="DefaultUltrachartLegendStyle" TargetType="visuals:UltrachartLegend">
        <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=GridBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Background" Value="{z:ThemeBinding Path=LegendBackgroundBrush}" />
        <Setter Property="VerticalAlignment" Value="Top" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="Padding" Value="5" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=CursorLabelForeground}" />
        <Setter Property="FontWeight" Value="Bold" />
        <Setter Property="ItemsSource" Value="{Binding LegendData.SeriesInfo, RelativeSource={RelativeSource Self}}" />
        <Setter Property="ItemTemplate" Value="{StaticResource UltrachartLegendItemTemplate}" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="{Binding Orientation, RelativeSource={RelativeSource AncestorType=visuals:UltrachartLegend}}" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="visuals:UltrachartLegend">
                    <Border HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalAlignment}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Padding="{TemplateBinding Padding}">
                        <ScrollViewer Common:CompatibleFocus.IsFocusable="False"
                                      HorizontalScrollBarVisibility="{Binding (ScrollViewer.HorizontalScrollBarVisibility),
                                                                              RelativeSource={RelativeSource TemplatedParent}}"
                                      VerticalScrollBarVisibility="{Binding (ScrollViewer.VerticalScrollBarVisibility),
                                                                            RelativeSource={RelativeSource TemplatedParent}}">
                            <ItemsPresenter />
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource DefaultUltrachartLegendStyle}" TargetType="visuals:UltrachartLegend" />

    <Style TargetType="r:LegendPlaceholder">
        <Setter Property="Grid.Row" Value="{Binding LegendPlacement, Converter={StaticResource LegendPlacementToGridPositionConverter}, ConverterParameter=Row}" />
        <Setter Property="Grid.Column" Value="{Binding LegendPlacement, Converter={StaticResource LegendPlacementToGridPositionConverter}, ConverterParameter=Column}" />
        <Setter Property="Margin" Value="{Binding Margin}" />
        <Setter Property="HorizontalAlignment" Value="{Binding HorizontalAlignment}" />
        <Setter Property="VerticalAlignment" Value="{Binding VerticalAlignment}" />
        <Setter Property="Template" Value="{Binding LegendTemplate}" />
    </Style>

    <ControlTemplate x:Key="DefaultUltrachartLegend">
        <visuals:UltrachartLegend ItemTemplate="{Binding LegendItemTemplate}"
                                LegendData="{Binding LegendData}"
                                Orientation="{Binding Orientation}"
                                ScrollViewer.HorizontalScrollBarVisibility="{Binding Path=(ScrollViewer.HorizontalScrollBarVisibility)}"
                                ScrollViewer.VerticalScrollBarVisibility="{Binding Path=(ScrollViewer.VerticalScrollBarVisibility)}"
                                ShowSeriesMarkers="{Binding ShowSeriesMarkers}"
                                ShowVisibilityCheckboxes="{Binding ShowVisibilityCheckboxes}" />

    </ControlTemplate>

    <!--  LegendModifier  -->
    <Style x:Key="DefaultLegendModifierStyle" TargetType="c:LegendModifier">
        <Setter Property="LegendData" Value="{Binding SeriesData, RelativeSource={RelativeSource Self}}" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="VerticalAlignment" Value="Top" />
        <Setter Property="LegendTemplate" Value="{StaticResource DefaultUltrachartLegend}" />
        <Setter Property="LegendItemTemplate" Value="{StaticResource UltrachartLegendItemTemplate}" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled" />
    </Style>

    <Style BasedOn="{StaticResource DefaultLegendModifierStyle}" TargetType="c:LegendModifier" />

    <!--  UltraStockChart XAxis  -->
    <DataTemplate x:Key="StockChartXAxis">
        <axes:CategoryDateTimeAxis Style="{Binding ParentSurface.XAxisStyle, RelativeSource={RelativeSource Self}}" />
    </DataTemplate>

    <!--  UltraStockChart YAxis  -->
    <DataTemplate x:Key="StockChartYAxis">
        <axes:NumericAxis Style="{Binding ParentSurface.YAxisStyle, RelativeSource={RelativeSource Self}}" />
    </DataTemplate>

    <!--  UltraStockChart ChartModifier  -->
    <DataTemplate x:Key="StockChartModifier">
        <c:ModifierGroup x:Name="ModifierGroup">
            <c:XAxisDragModifier />
            <c:YAxisDragModifier />
            <c:ZoomPanModifier ClipModeX="ClipAtMin"
                               IsEnabled="{Binding ParentSurface.IsPanEnabled,
                                                   RelativeSource={RelativeSource Self}}"
                               ReceiveHandledEvents="True" />
            <c:LegendModifier LegendData="{Binding ParentSurface.LegendSource,
                                                   RelativeSource={RelativeSource Self}}"
                              ShowLegend="{Binding ParentSurface.ShowLegend,
                                                   RelativeSource={RelativeSource Self}}"
                              Style="{Binding ParentSurface.LegendStyle,
                                              RelativeSource={RelativeSource Self},
                                              Mode=OneWay}" />
            <c:CursorModifier IsEnabled="{Binding ParentSurface.IsCursorEnabled,
                                                  RelativeSource={RelativeSource Self}}"
                              ReceiveHandledEvents="True"
                              ShowAxisLabels="True"
                              ShowTooltip="False"
                              Style="{StaticResource DefaultCursorModifierStyle}" />
            <c:RolloverModifier IsEnabled="{Binding ParentSurface.IsRolloverEnabled,
                                                    RelativeSource={RelativeSource Self}}"
                                ReceiveHandledEvents="True"
                                ShowAxisLabels="True"
                                ShowTooltipOn="MouseHover"
                                Style="{StaticResource DefaultRolloverModifierStyle}" />
            <c:RubberBandXyZoomModifier IsEnabled="{Binding ParentSurface.IsRubberBandZoomEnabled,
                                                            RelativeSource={RelativeSource Self}}"
                                        IsXAxisOnly="True"
                                        ReceiveHandledEvents="True"
                                        Style="{StaticResource DefaultRubberBandModifierStyle}" />
            <c:MouseWheelZoomModifier ActionType="Zoom" XyDirection="XYDirection" />
            <c:ZoomExtentsModifier ExecuteOn="MouseDoubleClick" />
            <c:SeriesValueModifier IsEnabled="{Binding ParentSurface.IsAxisMarkersEnabled, RelativeSource={RelativeSource Self}}" />
        </c:ModifierGroup>
    </DataTemplate>

    <!--  UltraStockChart LegendModifier Style  -->
    <Style x:Key="DefaultStockChartLegendStyle" TargetType="c:LegendModifier">
        <Setter Property="Margin" Value="5" />
        <Setter Property="Orientation" Value="Horizontal" />
        <Setter Property="ShowSeriesMarkers" Value="False" />
        <Setter Property="ShowVisibilityCheckboxes" Value="False" />
    </Style>

    <!--  UltraStockChart  -->
    <Style BasedOn="{StaticResource UltrachartSurfaceBase}" TargetType="s:UltraStockChart">
        <Setter Property="s:UltrachartGroup.VerticalChartGroup" Value="{Binding Path=VerticalChartGroupId, RelativeSource={RelativeSource Self}, Mode=OneWay}" />
        <Setter Property="IsCursorEnabled" Value="True" />
        <Setter Property="IsRubberBandZoomEnabled" Value="False" />
        <Setter Property="IsPanEnabled" Value="True" />
        <Setter Property="Common:Device.SnapsToDevicePixels" Value="True" />
        <Setter Property="XAxis" Value="{Binding Source={StaticResource StockChartXAxis}, Converter={StaticResource DataTemplateToObjectConverter}}" />
        <Setter Property="YAxis" Value="{Binding Source={StaticResource StockChartYAxis}, Converter={StaticResource DataTemplateToObjectConverter}}" />
        <Setter Property="ChartModifier" Value="{Binding Source={StaticResource StockChartModifier}, Converter={StaticResource DataTemplateToObjectConverter}}" />
        <Setter Property="LegendSource" Value="{Binding DefaultDataProvider.SeriesData, RelativeSource={RelativeSource Self}}" />
        <Setter Property="DefaultDataProvider" Value="{Binding ChartModifier[LegendModifier], RelativeSource={RelativeSource Self}}" />
        <Setter Property="ShowLegend" Value="False" />
        <Setter Property="LegendStyle" Value="{StaticResource DefaultStockChartLegendStyle}" />
    </Style>

    <ControlTemplate x:Key="DefaultScrollbarResizingGripsTemplate" TargetType="visuals:UltraThumb">
        <r:ScrollbarResizeGrip Style="{Binding GripsStyle, RelativeSource={RelativeSource AncestorType=visuals:UltrachartScrollbar}}" />
    </ControlTemplate>

    <ControlTemplate x:Key="DefaultScrollbarViewportTemplate" TargetType="visuals:UltraThumb">
        <r:ScrollbarViewport Style="{Binding ViewportStyle, RelativeSource={RelativeSource AncestorType=visuals:UltrachartScrollbar}}" />
    </ControlTemplate>

    <Style TargetType="r:ScrollbarResizeGrip">
        <Setter Property="VerticalAlignment" Value="Stretch" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Setter Property="Background" Value="Azure" />
        <Setter Property="BorderBrush" Value="Black" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Control">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3">
                        <Grid Margin="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <Grid.Resources>
                                <Style TargetType="Line">
                                    <Setter Property="Stretch" Value="Fill" />
                                    <Setter Property="StrokeThickness" Value="1" />
                                    <Setter Property="Stroke" Value="{Binding Background, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource GrayscaleColorBrushConverter}}" />
                                </Style>
                            </Grid.Resources>

                            <Line Grid.Row="0"
                                  Grid.Column="1"
                                  Visibility="{Binding Orientation,
                                                       RelativeSource={RelativeSource AncestorType=visuals:UltrachartScrollbar},
                                                       Converter={StaticResource OrientationToVisibilityConverter},
                                                       ConverterParameter='inverse'}"
                                  X1="0"
                                  X2="1"
                                  Y1="0"
                                  Y2="0" />
                            <Line Grid.Row="1"
                                  Grid.Column="0"
                                  Visibility="{Binding Orientation,
                                                       RelativeSource={RelativeSource AncestorType=visuals:UltrachartScrollbar},
                                                       Converter={StaticResource OrientationToVisibilityConverter}}"
                                  X1="0"
                                  X2="0"
                                  Y1="0"
                                  Y2="1" />
                            <Line Grid.Row="1"
                                  Grid.Column="2"
                                  Visibility="{Binding Orientation,
                                                       RelativeSource={RelativeSource AncestorType=visuals:UltrachartScrollbar},
                                                       Converter={StaticResource OrientationToVisibilityConverter}}"
                                  X1="0"
                                  X2="0"
                                  Y1="0"
                                  Y2="1" />
                            <Line Grid.Row="2"
                                  Grid.Column="1"
                                  Visibility="{Binding Orientation,
                                                       RelativeSource={RelativeSource AncestorType=visuals:UltrachartScrollbar},
                                                       Converter={StaticResource OrientationToVisibilityConverter},
                                                       ConverterParameter='inverse'}"
                                  X1="0"
                                  X2="1"
                                  Y1="0"
                                  Y2="0" />
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="r:ScrollbarViewport">
        <Setter Property="Background" Value="{z:ThemeBinding Path=ScrollbarFillBrush}" />
        <Setter Property="BorderBrush" Value="Black" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Control">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  UltrachartScrollbar  -->
    <Style TargetType="visuals:UltrachartScrollbar">
        <Setter Property="GripsThickness" Value="10" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Orientation" Value="{Binding Axis.IsHorizontalAxis, RelativeSource={RelativeSource Self}, Converter={StaticResource BooleanToOrientationConverter}, Mode=OneWay}" />

        <Setter Property="NonSelectedAreaStyle">
            <Setter.Value>
                <Style TargetType="Path">
                    <Setter Property="Fill" Value="Transparent" />
                    <Setter Property="StrokeThickness" Value="0" />
                </Style>
            </Setter.Value>
        </Setter>

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="visuals:UltrachartScrollbar">
                    <Border Background="{TemplateBinding Background}">
                        <Grid>

                            <Path Name="PART_NonSelectedArea"
                                  HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  Stretch="Fill"
                                  Style="{TemplateBinding NonSelectedAreaStyle}" />

                            <Border Name="PART_Border">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <!--  #SC-2714: Middle thumb should be placed below all resizing grips  -->
                                    <visuals:UltraThumb Name="PART_MiddleThumb"
                                                      Grid.Row="1"
                                                      Grid.Column="1"
                                                      Cursor="Hand"
                                                      Template="{StaticResource DefaultScrollbarViewportTemplate}" />

                                    <visuals:UltraThumb Name="PART_TopThumb"
                                                      Grid.Row="0"
                                                      Grid.Column="1"
                                                      Width="{TemplateBinding GripsLength}"
                                                      Height="{TemplateBinding GripsThickness}"
                                                      Margin="{Binding GripsThickness,
                                                                       RelativeSource={RelativeSource TemplatedParent},
                                                                       Converter={StaticResource DoubleToThumbMarginConverter},
                                                                       ConverterParameter='vertical'}"
                                                      Cursor="SizeNS"
                                                      Template="{StaticResource DefaultScrollbarResizingGripsTemplate}"
                                                      Visibility="{Binding Orientation,
                                                                           RelativeSource={RelativeSource TemplatedParent},
                                                                           Converter={StaticResource OrientationToVisibilityConverter},
                                                                           ConverterParameter='inverse'}" />
                                    <visuals:UltraThumb Name="PART_LeftThumb"
                                                      Grid.Row="1"
                                                      Grid.Column="0"
                                                      Width="{TemplateBinding GripsThickness}"
                                                      Height="{TemplateBinding GripsLength}"
                                                      Margin="{Binding GripsThickness,
                                                                       RelativeSource={RelativeSource TemplatedParent},
                                                                       Converter={StaticResource DoubleToThumbMarginConverter}}"
                                                      Cursor="SizeWE"
                                                      Template="{StaticResource DefaultScrollbarResizingGripsTemplate}"
                                                      Visibility="{Binding Orientation,
                                                                           RelativeSource={RelativeSource TemplatedParent},
                                                                           Converter={StaticResource OrientationToVisibilityConverter}}" />

                                    <visuals:UltraThumb Name="PART_RightThumb"
                                                      Grid.Row="1"
                                                      Grid.Column="2"
                                                      Width="{TemplateBinding GripsThickness}"
                                                      Height="{TemplateBinding GripsLength}"
                                                      Margin="{Binding GripsThickness,
                                                                       RelativeSource={RelativeSource TemplatedParent},
                                                                       Converter={StaticResource DoubleToThumbMarginConverter}}"
                                                      Cursor="SizeWE"
                                                      Template="{StaticResource DefaultScrollbarResizingGripsTemplate}"
                                                      Visibility="{Binding Orientation,
                                                                           RelativeSource={RelativeSource TemplatedParent},
                                                                           Converter={StaticResource OrientationToVisibilityConverter}}" />
                                    <visuals:UltraThumb Name="PART_BottomThumb"
                                                      Grid.Row="2"
                                                      Grid.Column="1"
                                                      Width="{TemplateBinding GripsLength}"
                                                      Height="{TemplateBinding GripsThickness}"
                                                      Margin="{Binding GripsThickness,
                                                                       RelativeSource={RelativeSource TemplatedParent},
                                                                       Converter={StaticResource DoubleToThumbMarginConverter},
                                                                       ConverterParameter='vertical'}"
                                                      Cursor="SizeNS"
                                                      Template="{StaticResource DefaultScrollbarResizingGripsTemplate}"
                                                      Visibility="{Binding Orientation,
                                                                           RelativeSource={RelativeSource TemplatedParent},
                                                                           Converter={StaticResource OrientationToVisibilityConverter},
                                                                           ConverterParameter='inverse'}" />
                                </Grid>
                            </Border>

                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  UltrachartOverviewControl  -->
    <Style TargetType="visuals:UltrachartOverview">
        <Setter Property="FontSize" Value="20" />
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="Background" Value="{z:ThemeBinding Path=UltrachartBackground}" />
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=TickTextBrush}" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="AreaBrush" Value="{z:ThemeBinding Path=DefaultMountainAreaBrush}" />
        <Setter Property="SeriesColor" Value="{z:ThemeBinding Path=DefaultMountainLineColor}" />
        <Setter Property="SelectedRange" Value="{Binding RelativeSource={RelativeSource Self}, Path=Axis.VisibleRange, Mode=TwoWay}" />
        <Setter Property="RenderableSeriesStyle">
            <Setter.Value>
                <!-- DataContext for RenderableSeries is the UltrachartOverview. This is set in code -->
                <Style TargetType="r:FastMountainRenderableSeries">
                    <Setter Property="AreaBrush" Value="{Binding Path=AreaBrush}"/>
                    <Setter Property="DataSeries" Value="{Binding DataSeries}"/>
                    <Setter Property="SeriesColor" Value="{Binding SeriesColor}"/>
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="RenderableSeriesType" Value="r:FastMountainRenderableSeries"/>
        <Setter Property="ScrollbarStyle">
            <Setter.Value>
                <Style TargetType="visuals:UltrachartScrollbar">
                    <Setter Property="Orientation" Value="Horizontal" />
                    <Setter Property="GripsLength" Value="25" />
                    <Setter Property="ViewportStyle">
                        <Setter.Value>
                            <Style TargetType="Control">
                                <Setter Property="Opacity" Value="0" />
                            </Style>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="NonSelectedAreaStyle">
                        <Setter.Value>
                            <Style TargetType="Path">
                                <Setter Property="Fill" Value="{z:ThemeBinding Path=OverviewFillBrush}" />
                            </Style>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="visuals:UltrachartOverview">
                    <Grid Name="PART_Container">
                        <visuals:UltrachartSurface x:Name="PART_BackgroundSurface"
                                                 Background="{TemplateBinding Background}"
                                                 BorderThickness="0"
                                                 FontSize="{TemplateBinding FontSize}"
                                                 FontWeight="{TemplateBinding FontWeight}"
                                                 Foreground="{TemplateBinding Foreground}"
                                                 Padding="{TemplateBinding Padding}">

                            <visuals:UltrachartSurface.YAxis>
                                <axes:NumericAxis AutoRange="Always"
                                                  DrawMajorGridLines="False"
                                                  DrawMinorGridLines="False"
                                                  TextFormatting="###E+0"
                                                  Visibility="Collapsed" />
                            </visuals:UltrachartSurface.YAxis>

                        </visuals:UltrachartSurface>

                        <visuals:UltrachartScrollbar x:Name="PART_Scrollbar"
                                                   Axis="{TemplateBinding Axis}"
                                                   Style="{TemplateBinding ScrollbarStyle}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  HeatmapColourMap  -->
    <Style TargetType="visuals:HeatmapColourMap">
        <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=GridBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Background" Value="{z:ThemeBinding Path=LegendBackgroundBrush}" />
        <Setter Property="VerticalAlignment" Value="Top" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="Padding" Value="5" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=CursorLabelForeground}" />
        <Setter Property="FontWeight" Value="Bold" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="visuals:HeatmapColourMap">
                    <Border x:Name="PART_Border"
                            HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalAlignment}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Padding="{TemplateBinding Padding}">
                        <Grid>
                            <Grid DataContext="{TemplateBinding FastHeatMapRenderableSeries}" Visibility="{Binding Orientation, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource HorisontalOrientationVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Rectangle Grid.ColumnSpan="3"
                                           Width="150"
                                           Height="15"
                                           Margin="3"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           Fill="{Binding Path=ColorMap}" />
                                <TextBlock Grid.Row="1"
                                           Grid.Column="0"
                                           Text="{Binding Path=Minimum,
                                                          StringFormat=\{0:n0\}}" />
                                <TextBlock Grid.Row="1"
                                           Grid.Column="1"
                                           HorizontalAlignment="Center"
                                           Text="{Binding Path=MiddleValue,
                                                          StringFormat=\{0:n0\}}" />
                                <TextBlock Grid.Row="1"
                                           Grid.Column="2"
                                           HorizontalAlignment="Right"
                                           Text="{Binding Path=Maximum,
                                                          StringFormat=\{0:n0\}}" />
                            </Grid>
                            <Grid DataContext="{TemplateBinding FastHeatMapRenderableSeries}" Visibility="{Binding Orientation, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource VerticalOrientationVisibilityConverter}}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <Rectangle Grid.RowSpan="3"
                                           Width="15"
                                           Height="150"
                                           Margin="3"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           Fill="{Binding Path=ColorMap}">
                                    <Rectangle.RenderTransform>
                                        <RotateTransform Angle="180" CenterX="7.5" CenterY="75" />
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                                <TextBlock Grid.Row="0"
                                           Grid.Column="1"
                                           VerticalAlignment="Top"
                                           Text="{Binding Path=Maximum,
                                                          StringFormat=\{0:n0\}}" />
                                <TextBlock Grid.Row="1"
                                           Grid.Column="1"
                                           VerticalAlignment="Center"
                                           Text="{Binding Path=MiddleValue,
                                                          StringFormat=\{0:n0\}}" />
                                <TextBlock Grid.Row="2"
                                           Grid.Column="1"
                                           VerticalAlignment="Bottom"
                                           Text="{Binding Path=Minimum,
                                                          StringFormat=\{0:n0\}}" />
                            </Grid>
                        </Grid>

                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  UltrachartGroupPane  -->
    <Style x:Key="DefaultGroupPaneStyle" TargetType="s:UltrachartGroupPane">
        <Setter Property="HeaderTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Grid VerticalAlignment="Center" Background="{x:Null}">
                        <TextBlock Margin="10, 2"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center"
                                   Text="{Binding PaneViewModel.Title}">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Foreground" Value="{z:ThemeBinding Path=TickTextBrush}" />
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>

                        <StackPanel Margin="10, 2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Background="Transparent"
                                    Orientation="Horizontal">

                            <Button HorizontalContentAlignment="Center"
                                    VerticalContentAlignment="Center"
                                    Background="Transparent"
                                    Command="{Binding ChangeOrientationCommand}">
                                <Grid>
                                    <Path Data="M 0,0 L 10,0 5,8" Visibility="{Binding IsTabbed, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter='inverse'}">
                                        <Path.Style>
                                            <Style TargetType="Path">
                                                <Setter Property="Fill" Value="{z:ThemeBinding Path=TickTextBrush}" />
                                                <Setter Property="Stroke" Value="{z:ThemeBinding Path=TickTextBrush}" />
                                            </Style>
                                        </Path.Style>
                                    </Path>
                                    <Path Data="M 0,8 L 10,8 5,0" Visibility="{Binding IsTabbed, Converter={StaticResource BooleanToVisibilityConverter}}">
                                        <Path.Style>
                                            <Style TargetType="Path">
                                                <Setter Property="Fill" Value="{z:ThemeBinding Path=TickTextBrush}" />
                                                <Setter Property="Stroke" Value="{z:ThemeBinding Path=TickTextBrush}" />
                                            </Style>
                                        </Path.Style>
                                    </Path>
                                </Grid>
                            </Button>

                            <Button HorizontalContentAlignment="Center"
                                    VerticalContentAlignment="Center"
                                    Background="Transparent"
                                    Command="{Binding ClosePaneCommand}"
                                    CommandParameter="{Binding PaneViewModel}">
                                <Grid>
                                    <Path Data="M 0,0 L 10,8" StrokeThickness="2">
                                        <Path.Style>
                                            <Style TargetType="Path">
                                                <Setter Property="Stroke" Value="{z:ThemeBinding Path=TickTextBrush}" />
                                            </Style>
                                        </Path.Style>
                                    </Path>
                                    <Path Data="M 0,8 L 10,0" StrokeThickness="2">
                                        <Path.Style>
                                            <Style TargetType="Path">
                                                <Setter Property="Stroke" Value="{z:ThemeBinding Path=TickTextBrush}" />
                                            </Style>
                                        </Path.Style>
                                    </Path>
                                </Grid>
                            </Button>

                        </StackPanel>
                    </Grid>
                </DataTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="s:UltrachartGroupPane">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <!--  Splitter  -->
                        <Thumb x:Name="PART_TopSplitter"
                               Height="5"
                               HorizontalAlignment="Stretch"
                               BorderThickness="0,1,0,1"
                               Cursor="SizeNS">
                            <Thumb.Style>
                                <Style TargetType="Thumb">
                                    <Setter Property="Background" Value="{z:ThemeBinding Path=RubberBandFillBrush}" />
                                    <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=RubberBandStrokeBrush}" />
                                </Style>
                            </Thumb.Style>
                        </Thumb>
                        <!--  Surface  -->
                        <ContentPresenter x:Name="PART_ContentHost"
                                          Grid.Row="1"
                                          Grid.RowSpan="2"
                                          Content="{TemplateBinding Content}" />
                        <!--  Header  -->
                        <Grid x:Name="PART_Header" Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                        </Grid>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource DefaultGroupPaneStyle}" TargetType="s:UltrachartGroupPane" />

    <!--  UltrachartGroup  -->
    <Style TargetType="s:UltrachartGroup">
        <Setter Property="Background" Value="{z:ThemeBinding Path=UltrachartBackground}" />
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=TickTextBrush}" />
        <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultGroupPaneStyle}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="s:UltrachartGroup">
                    <Grid x:Name="PART_MainGrid">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <ContentPresenter x:Name="PART_MainPane" />

                        <Canvas x:Name="PART_UltrachartGroupModifierCanvas" />
                        <StackPanel x:Name="PART_StackedContent" Grid.Row="1" />

                        <s:TabControlCompatible x:Name="PART_TabbedContent"
                                                Grid.Row="2"
                                                Visibility="{Binding HasTabbedItems,
                                                                     RelativeSource={RelativeSource Mode=TemplatedParent},
                                                                     Converter={StaticResource BooleanToVisibilityConverter}}">
                            <s:TabControlCompatible.Style>
                                <Style TargetType="s:TabControlCompatible">
                                    <Setter Property="Background" Value="{z:ThemeBinding Path=UltrachartBackground}" />
                                    <Setter Property="BorderThickness" Value="0" />
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                    <Setter Property="Padding" Value="0" />
                                    <Setter Property="VerticalContentAlignment" Value="Center" />
                                    <Setter Property="TabStripPlacement" Value="Bottom" />
                                </Style>
                            </s:TabControlCompatible.Style>
                        </s:TabControlCompatible>

                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  Annotations  -->
    <Style x:Key="AnnotationBaseStyle" TargetType="a:AnnotationBase">
        <Style.Setters>
            <Setter Property="IsTabStop" Value="False" />
        </Style.Setters>
    </Style>

    <!--  Annotations  -->
    <Style BasedOn="{StaticResource AnnotationBaseStyle}" TargetType="a:CustomAnnotation">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:CustomAnnotation">
                    <ContentPresenter Margin="{TemplateBinding Padding}"
                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                      Content="{TemplateBinding Content}"
                                      ContentTemplate="{TemplateBinding ContentTemplate}"
                                      Cursor="{TemplateBinding Cursor}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="AnnotationTextBoxStyle" TargetType="TextBox">
        <Setter Property="Background" Value="{z:ThemeBinding Path=DefaultTextAnnotationBackground}" />
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=DefaultTextAnnotationForeground}" />
        <Setter Property="Padding" Value="2" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TextBox">
                    <Grid x:Name="RootElement">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="MouseOver" />
                                <VisualState x:Name="Disabled" />
                                <VisualState x:Name="ReadOnly" />
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused" />
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="ValidationStates">
                                <VisualState x:Name="Valid" />
                                <VisualState x:Name="InvalidUnfocused" />
                                <VisualState x:Name="InvalidFocused" />
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>

                        <ScrollViewer x:Name="ContentElement"
                                      BorderThickness="0"
                                      IsTabStop="False"
                                      Padding="{TemplateBinding Padding}"
                                      s:FrameworkVisibilityManager.VisibleIn="Silverlight" />

                        <ScrollViewer x:Name="PART_ContentHost"
                                      BorderThickness="0"
                                      IsTabStop="False"
                                      Padding="{TemplateBinding Padding}"
                                      s:FrameworkVisibilityManager.VisibleIn="Wpf" />

                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource AnnotationBaseStyle}" TargetType="a:TextAnnotation">
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=TickTextBrush}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:TextAnnotation">
                    <Border x:Name="PART_TextAnnotationRoot"
                            Margin="{TemplateBinding Margin}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}">
                        <!--  <Viewbox Stretch="{TemplateBinding TextStretch}">  -->
                        <TextBox x:Name="PART_InputTextArea"
                                 Margin="{TemplateBinding Padding}"
                                 VerticalAlignment="{TemplateBinding VerticalAlignment}"
                                 AcceptsReturn="True"
                                 Background="Transparent"
                                 BorderThickness="0"
                                 FontFamily="{TemplateBinding FontFamily}"
                                 FontSize="{TemplateBinding FontSize}"
                                 FontWeight="{TemplateBinding FontWeight}"
                                 Foreground="{TemplateBinding Foreground}"
                                 IsTabStop="{TemplateBinding IsEditable}"
                                 Style="{StaticResource AnnotationTextBoxStyle}"
                                 Text="{Binding Text,
                                                RelativeSource={RelativeSource TemplatedParent},
                                                Mode=TwoWay}"
                                 TextAlignment="{TemplateBinding TextAlignment}"
                                 TextWrapping="Wrap" />
                        <!--  </Viewbox>  -->
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource AnnotationBaseStyle}" TargetType="a:LineAnnotation">
        <Setter Property="Stroke" Value="{z:ThemeBinding Path=RubberBandStrokeBrush}" />
        <Setter Property="StrokeThickness" Value="2.0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:LineAnnotation">
                    <Grid x:Name="PART_LineAnnotationRoot">
                        <Line x:Name="PART_GhostLine"
                              Stroke="Transparent"
                              StrokeThickness="{z:Static Member=visuals:ManipulationMargins.AnnotationLineWidth}" />
                        <Line x:Name="PART_Line"
                              Stroke="{TemplateBinding Stroke}"
                              StrokeDashArray="{TemplateBinding StrokeDashArray}"
                              StrokeThickness="{TemplateBinding StrokeThickness}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource AnnotationBaseStyle}" TargetType="a:LineArrowAnnotation">
        <Setter Property="Stroke" Value="{z:ThemeBinding Path=RubberBandStrokeBrush}" />
        <Setter Property="StrokeThickness" Value="2.0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:LineArrowAnnotation">
                    <Grid x:Name="PART_LineArrowAnnotationRoot">
                        <Line x:Name="PART_GhostLine"
                              Stroke="Transparent"
                              StrokeThickness="{z:Static Member=visuals:ManipulationMargins.AnnotationLineWidth}" />
                        <Line x:Name="PART_Line"
                              Stroke="{TemplateBinding Stroke}"
                              StrokeDashArray="{TemplateBinding StrokeDashArray}"
                              StrokeThickness="{TemplateBinding StrokeThickness}" />
                        <Polygon x:Name="PART_ArrowHead"
                                 Fill="{TemplateBinding Stroke}"
                                 Stroke="{TemplateBinding Stroke}"
                                 StrokeThickness="{TemplateBinding StrokeThickness}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource AnnotationBaseStyle}" TargetType="a:HorizontalLineAnnotation">
        <Setter Property="Stroke" Value="{z:ThemeBinding Path=RubberBandStrokeBrush}" />
        <Setter Property="StrokeThickness" Value="2.0" />
        <Setter Property="LabelTextFormatting" Value="{Binding DefaultTextFormatting, Mode=OneWay, RelativeSource={RelativeSource Self}}" />
        <Setter Property="LabelValue" Value="{Binding DefaultLabelValue, Converter={StaticResource IComparableToObject}, Mode=OneWay, RelativeSource={RelativeSource Self}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:HorizontalLineAnnotation">
                    <Grid x:Name="PART_LineAnnotationRoot" ShowGridLines="False">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Line x:Name="PART_GhostLine"
                              Grid.Row="1"
                              Grid.Column="1"
                              VerticalAlignment="Center"
                              Stretch="Fill"
                              Stroke="Transparent"
                              StrokeThickness="{z:Static Member=visuals:ManipulationMargins.AnnotationLineWidth}"
                              X1="0"
                              X2="1"
                              Y1="0"
                              Y2="0" />

                        <Line x:Name="PART_Line"
                              Grid.Row="1"
                              Grid.Column="1"
                              VerticalAlignment="Center"
                              Stretch="Fill"
                              Stroke="{TemplateBinding Stroke}"
                              StrokeDashArray="{TemplateBinding StrokeDashArray}"
                              StrokeEndLineCap="Square"
                              StrokeStartLineCap="Square"
                              StrokeThickness="{TemplateBinding StrokeThickness}"
                              X1="0"
                              X2="1"
                              Y1="0"
                              Y2="0" />

                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource AnnotationBaseStyle}" TargetType="a:VerticalLineAnnotation">
        <Setter Property="Stroke" Value="{z:ThemeBinding Path=RubberBandStrokeBrush}" />
        <Setter Property="StrokeThickness" Value="2.0" />
        <Setter Property="LabelTextFormatting" Value="{Binding DefaultTextFormatting, Mode=OneWay, RelativeSource={RelativeSource Self}}" />
        <Setter Property="LabelValue" Value="{Binding DefaultLabelValue, Converter={StaticResource IComparableToObject}, Mode=OneWay, RelativeSource={RelativeSource Self}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:VerticalLineAnnotation">
                    <Grid x:Name="PART_LineAnnotationRoot" ShowGridLines="False">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Line x:Name="PART_GhostLine"
                              Grid.Row="1"
                              Grid.Column="1"
                              HorizontalAlignment="Center"
                              Stretch="Fill"
                              Stroke="Transparent"
                              StrokeThickness="{z:Static Member=visuals:ManipulationMargins.AnnotationLineWidth}"
                              X1="0"
                              X2="0"
                              Y1="0"
                              Y2="1" />

                        <Line x:Name="PART_Line"
                              Grid.Row="1"
                              Grid.Column="1"
                              HorizontalAlignment="Center"
                              Stretch="Fill"
                              Stroke="{TemplateBinding Stroke}"
                              StrokeDashArray="{TemplateBinding StrokeDashArray}"
                              StrokeEndLineCap="Square"
                              StrokeStartLineCap="Square"
                              StrokeThickness="{TemplateBinding StrokeThickness}"
                              X1="0"
                              X2="0"
                              Y1="0"
                              Y2="1" />

                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  AnnotationLabel  -->
    <Style x:Key="annotationLabel" TargetType="a:AnnotationLabel">
        <Setter Property="Text" Value="{Binding FormattedLabel, Mode=OneWay}" />
        <Setter Property="Foreground" Value="{Binding Stroke}" />
        <Setter Property="BorderThickness" Value="0" />
    </Style>
    <Style x:Key="annotationAxisLabel" TargetType="a:AnnotationLabel">
        <Setter Property="Text" Value="{Binding FormattedLabel, Mode=OneWay}" />
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=TickTextBrush}" />
        <Setter Property="Background" Value="{Binding Stroke}" />
        <Setter Property="BorderBrush" Value="{Binding Stroke}" />
        <Setter Property="BorderThickness" Value="{Binding StrokeThickness, Converter={StaticResource DoubleToThicknessConverter}}" />
        <Setter Property="CornerRadius" Value="2" />
    </Style>

    <Style TargetType="a:AnnotationLabel">
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="LabelStyle" Value="{StaticResource annotationLabel}" />
        <Setter Property="AxisLabelStyle" Value="{StaticResource annotationAxisLabel}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:AnnotationLabel">
                    <layout:LayoutTransformer>
                        <layout:LayoutTransformer.LayoutTransform>
                            <RotateTransform Angle="{Binding RotationAngle, RelativeSource={RelativeSource TemplatedParent}}" />
                        </layout:LayoutTransformer.LayoutTransform>

                        <Border Margin="{TemplateBinding Margin}"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{TemplateBinding CornerRadius}">
                            <TextBox x:Name="PART_InputTextArea"
                                     Margin="{TemplateBinding Padding}"
                                     VerticalAlignment="{TemplateBinding VerticalAlignment}"
                                     FontFamily="{TemplateBinding FontFamily}"
                                     FontSize="{TemplateBinding FontSize}"
                                     FontWeight="{TemplateBinding FontWeight}"
                                     Foreground="{TemplateBinding Foreground}"
                                     IsEnabled="False"
                                     IsTabStop="{Binding IsEditable}"
                                     Style="{StaticResource AnnotationTextBoxStyle}"
                                     Text="{Binding Text,
                                                    RelativeSource={RelativeSource TemplatedParent},
                                                    Mode=TwoWay}" />
                        </Border>

                    </layout:LayoutTransformer>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <DataTemplate x:Key="DefaultAxisMarkerTemplate" DataType="r:AxisInfo">
        <Border Background="{Binding Background,
                                     RelativeSource={RelativeSource AncestorType=a:AxisMarkerAnnotation}}"
                BorderBrush="{Binding BorderBrush,
                                      RelativeSource={RelativeSource AncestorType=a:AxisMarkerAnnotation}}"
                BorderThickness="0,1,0,1">
            <TextBlock Margin="{Binding Padding,
                                        RelativeSource={RelativeSource AncestorType=a:AxisMarkerAnnotation}}"
                       VerticalAlignment="Center"
                       FontSize="{Binding FontSize,
                                          RelativeSource={RelativeSource AncestorType=a:AxisMarkerAnnotation}}"
                       Foreground="{Binding Foreground,
                                            RelativeSource={RelativeSource AncestorType=a:AxisMarkerAnnotation}}"
                       Text="{Binding FormattedValue,
                                      RelativeSource={RelativeSource AncestorType=a:AxisMarkerAnnotation}}" />
        </Border>
    </DataTemplate>

    <DataTemplate x:Key="DefaultAxisPointerTemplate">
        <Path HorizontalAlignment="Right"
              VerticalAlignment="Stretch"
              Data="m 0 10 -4 -5 4 -5 z"
              Fill="{Binding RelativeSource={RelativeSource AncestorType=a:AxisMarkerAnnotation},
                             Path=Background}"
              Stretch="Fill"
              Stroke="{Binding RelativeSource={RelativeSource AncestorType=a:AxisMarkerAnnotation},
                               Path=Background}"
              StrokeEndLineCap="Round"
              StrokeLineJoin="Round"
              StrokeStartLineCap="Round"
              StrokeThickness="1" />
    </DataTemplate>

    <Style x:Key="AxisMarkerAnnotationStyle"
           BasedOn="{StaticResource AnnotationBaseStyle}"
           TargetType="a:AxisMarkerAnnotation">
        <Setter Property="Background" Value="{z:ThemeBinding Path=RubberBandStrokeBrush}" />
        <Setter Property="BorderBrush" Value="{z:ThemeBinding Path=RubberBandStrokeBrush}" />
        <Setter Property="Foreground" Value="{z:ThemeBinding Path=TickTextBrush}" />
        <Setter Property="VerticalAnchorPoint" Value="Center" />
        <Setter Property="HorizontalAnchorPoint" Value="Center" />
        <Setter Property="MarkerPointWidth" Value="8" />
        <Setter Property="Padding" Value="2,0,4,0" />
        <Setter Property="FontWeight" Value="Bold" />
        <Setter Property="LabelTemplate" Value="{StaticResource DefaultAxisMarkerTemplate}" />
        <Setter Property="PointerTemplate" Value="{StaticResource DefaultAxisPointerTemplate}" />
        <Setter Property="FormattedValue" Value="{Binding AxisInfo.AxisFormattedDataValue, RelativeSource={RelativeSource Self}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:AxisMarkerAnnotation">
                    <Border x:Name="PART_AxisMarkerAnnotationRoot">
                        <layout:LayoutTransformer LayoutTransform="{Binding AxisInfo.IsHorizontal, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToRotationTransformConverter}}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <ContentControl Grid.Column="0"
                                                HorizontalContentAlignment="Stretch"
                                                VerticalContentAlignment="Stretch"
                                                Content="{TemplateBinding AxisInfo}"
                                                ContentTemplate="{TemplateBinding PointerTemplate}"
                                                Visibility="{Binding AxisInfo.AxisAlignment,
                                                                     RelativeSource={RelativeSource TemplatedParent},
                                                                     Converter={StaticResource LeftPointerAlignmentToVisibilityConverter}}" />
                                <ContentPresenter Grid.Column="1"
                                                  Content="{TemplateBinding AxisInfo}"
                                                  ContentTemplate="{TemplateBinding LabelTemplate}" />
                                <ContentControl Grid.Column="2"
                                                HorizontalContentAlignment="Stretch"
                                                VerticalContentAlignment="Stretch"
                                                Content="{TemplateBinding AxisInfo}"
                                                ContentTemplate="{TemplateBinding PointerTemplate}"
                                                RenderTransformOrigin="0.5,0.5"
                                                Visibility="{Binding AxisInfo.AxisAlignment,
                                                                     RelativeSource={RelativeSource TemplatedParent},
                                                                     Converter={StaticResource RightPointerAlignmentToVisibilityConverter}}">
                                    <ContentControl.RenderTransform>
                                        <ScaleTransform ScaleX="-1" />
                                    </ContentControl.RenderTransform>
                                </ContentControl>

                            </Grid>
                        </layout:LayoutTransformer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource AxisMarkerAnnotationStyle}" TargetType="a:AxisMarkerAnnotation" />

    <Style BasedOn="{StaticResource AxisMarkerAnnotationStyle}" TargetType="a:SeriesValueAxisMarkerAnnotation">
        <!--  Assumes data context is the RenderableSeries  -->
        <Setter Property="BorderBrush" Value="{Binding Background, RelativeSource={RelativeSource Self}}" />
        <Setter Property="Background" Value="{Binding Path=(c:SeriesValueModifier.SeriesMarkerColor), Mode=TwoWay, Converter={StaticResource ColorToBrushConverter}}" />
        <Setter Property="Foreground" Value="{Binding Background, RelativeSource={RelativeSource Self}, Converter={StaticResource GrayscaleColorBrushConverter}}" />
        <Setter Property="Opacity" Value="{Binding Path=(c:SeriesValueModifier.IsLastPointInViewport), Mode=TwoWay, Converter={StaticResource IsLastPointInViewportToOpacityConverter}}" />
        <Setter Property="IsHidden">
            <Setter.Value>
                <z:MultiBindingCompatible Converter="{StaticResource TestConverter}">
                    <Binding Path="IsVisible" />
                    <Binding Path="(c:SeriesValueModifier.IsRenderableSeriesInViewport)" />
                    <Binding Path="(c:SeriesValueModifier.IsSeriesValueModifierEnabled)" />
                </z:MultiBindingCompatible>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  BoxAnnotation  -->
    <Style BasedOn="{StaticResource AnnotationBaseStyle}" TargetType="a:BoxAnnotation">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="a:BoxAnnotation">
                    <Border x:Name="PART_BoxAnnotationRoot"
                            Margin="{TemplateBinding Margin}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="visuals:UltrachartPerformanceOverlay">
        <Style.Setters>
            <Setter Property="Foreground" Value="#BBFC9C29" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="visuals:UltrachartPerformanceOverlay">
                        <Border Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="32" />
                                    <RowDefinition Height="5" />
                                    <RowDefinition Height="32" />
                                    <RowDefinition Height="32" />
                                </Grid.RowDefinitions>

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <visuals:UltrachartSurface Grid.Column="2"
                                                         Margin="5,0"
                                                         Background="Transparent"
                                                         BorderBrush="Transparent"
                                                         MaxFrameRate="20"
                                                         Padding="0"
                                                         Visibility="{TemplateBinding ChartsVisibility}">
                                    <visuals:UltrachartSurface.RenderSurface>
                                        <highSpeedRasterizer:HighSpeedRenderSurface />
                                    </visuals:UltrachartSurface.RenderSurface>
                                    <visuals:UltrachartSurface.GridLinesPanelStyle>
                                        <Style TargetType="axes:GridLinesPanel">
                                            <Setter Property="Background" Value="#11FFFFFF" />
                                        </Style>
                                    </visuals:UltrachartSurface.GridLinesPanelStyle>
                                    <visuals:UltrachartSurface.RenderableSeries>
                                        <r:FastMountainRenderableSeries AntiAliasing="False"
                                                                        DataSeries="{Binding WpfFpsSeries,
                                                                                             RelativeSource={RelativeSource TemplatedParent}}"
                                                                        Opacity="0.5" />
                                    </visuals:UltrachartSurface.RenderableSeries>
                                    <visuals:UltrachartSurface.YAxis>
                                        <axes:NumericAxis DrawMajorGridLines="False"
                                                          DrawMinorGridLines="False"
                                                          Visibility="Collapsed"
                                                          VisibleRange="0,62" />
                                    </visuals:UltrachartSurface.YAxis>
                                    <visuals:UltrachartSurface.XAxis>
                                        <axes:NumericAxis AutoRange="Always"
                                                          DrawMajorGridLines="False"
                                                          DrawMinorGridLines="False"
                                                          Visibility="Collapsed" />
                                    </visuals:UltrachartSurface.XAxis>
                                </visuals:UltrachartSurface>

                                <TextBlock Grid.Row="0"
                                           Margin="0,3"
                                           VerticalAlignment="Center"
                                           FontSize="{TemplateBinding FontSize}"
                                           FontWeight="{TemplateBinding FontWeight}"
                                           Foreground="{TemplateBinding Foreground}">
                                    <Run Text="CompositionTarget:" />
                                </TextBlock>

                                <TextBlock Grid.Row="0"
                                           Grid.Column="1"
                                           Margin="3,3"
                                           VerticalAlignment="Center"
                                           FontSize="{TemplateBinding FontSize}"
                                           FontWeight="{TemplateBinding FontWeight}"
                                           Foreground="{TemplateBinding Foreground}">
                                    <Run Text="{Binding WpfFps, RelativeSource={RelativeSource TemplatedParent}, FallbackValue='30.0', StringFormat=#0.0}" />
                                    <Run Text="FPS" />
                                </TextBlock>

                                <TextBlock Grid.Row="2"
                                           Margin="0,3"
                                           VerticalAlignment="Center"
                                           FontSize="{TemplateBinding FontSize}"
                                           FontWeight="{TemplateBinding FontWeight}"
                                           Foreground="{TemplateBinding Foreground}">
                                    <Run Text="UltrachartSurface:" />
                                </TextBlock>

                                <TextBlock Grid.Row="2"
                                           Grid.Column="1"
                                           Margin="3,3"
                                           VerticalAlignment="Center"
                                           FontSize="{TemplateBinding FontSize}"
                                           FontWeight="{TemplateBinding FontWeight}"
                                           Foreground="{TemplateBinding Foreground}">
                                    <Run Text="{Binding UltrachartFps, RelativeSource={RelativeSource TemplatedParent}, FallbackValue='30.0', StringFormat=#0.0}" />
                                    <Run Text="FPS" />
                                </TextBlock>

                                <visuals:UltrachartSurface Grid.Row="2"
                                                         Grid.Column="2"
                                                         Margin="5,0"
                                                         Background="Transparent"
                                                         BorderBrush="Transparent"
                                                         MaxFrameRate="20"
                                                         Padding="0"
                                                         Visibility="{TemplateBinding ChartsVisibility}">
                                    <visuals:UltrachartSurface.RenderSurface>
                                        <highSpeedRasterizer:HighSpeedRenderSurface />
                                    </visuals:UltrachartSurface.RenderSurface>
                                    <visuals:UltrachartSurface.GridLinesPanelStyle>
                                        <Style TargetType="axes:GridLinesPanel">
                                            <Setter Property="Background" Value="#11FFFFFF" />
                                        </Style>
                                    </visuals:UltrachartSurface.GridLinesPanelStyle>

                                    <visuals:UltrachartSurface.RenderableSeries>
                                        <r:FastMountainRenderableSeries AntiAliasing="False"
                                                                        DataSeries="{Binding UltrachartFpsSeries,
                                                                                             RelativeSource={RelativeSource TemplatedParent}}"
                                                                        Opacity="0.5" />
                                    </visuals:UltrachartSurface.RenderableSeries>
                                    <visuals:UltrachartSurface.YAxis>
                                        <axes:NumericAxis DrawMajorGridLines="False"
                                                          DrawMinorGridLines="False"
                                                          Visibility="Collapsed"
                                                          VisibleRange="0,62" />
                                    </visuals:UltrachartSurface.YAxis>
                                    <visuals:UltrachartSurface.XAxis>
                                        <axes:NumericAxis AutoRange="Always"
                                                          DrawMajorGridLines="False"
                                                          DrawMinorGridLines="False"
                                                          Visibility="Collapsed" />
                                    </visuals:UltrachartSurface.XAxis>
                                </visuals:UltrachartSurface>
                                <TextBlock Grid.Row="3"
                                           Margin="0,3"
                                           VerticalAlignment="Center"
                                           FontSize="{TemplateBinding FontSize}"
                                           FontWeight="{TemplateBinding FontWeight}"
                                           Foreground="{TemplateBinding Foreground}">
                                    <Run Text="Chart Stats:" />
                                </TextBlock>

                                <TextBlock Grid.Row="3"
                                           Grid.Column="1"
                                           Margin="3,3"
                                           VerticalAlignment="Center"
                                           FontSize="{TemplateBinding FontSize}"
                                           FontWeight="{TemplateBinding FontWeight}"
                                           Foreground="{TemplateBinding Foreground}">
                                    <Run Text="{Binding TotalPointCount, RelativeSource={RelativeSource TemplatedParent}, FallbackValue='1000.0', StringFormat=n0}" />
                                    <Run Text="Points" />
                                </TextBlock>

                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style.Setters>
    </Style>

    <Style x:Key="DefaultAxisDragCursor" TargetType="c:AxisDragCursor">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <layout:LayoutTransformer>
                        <layout:LayoutTransformer.LayoutTransform>
                            <RotateTransform Angle="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Angle, Mode=TwoWay}" CenterX="11" CenterY="5" />
                        </layout:LayoutTransformer.LayoutTransform>
                        <Grid Width="22" Height="10">
                            <Path x:Name="Path"
                                  HorizontalAlignment="Left"
                                  VerticalAlignment="Top"
                                  Data="F1 M 0.689217,6.84L 5.40717,0.84L 5.40717,4.84L 17.202,4.84L 17.202,0.84L 21.92,6.84L 17.202,12.84L 17.202,8.84L 5.40717,8.84L 5.40717,12.84L 0.689217,6.84 Z "
                                  Fill="White"
                                  IsHitTestVisible="False"
                                  Stretch="Fill"
                                  Stroke="#FF000000"
                                  StrokeLineJoin="Round"
                                  StrokeThickness="0.5"
                                  Visibility="Visible" />
                        </Grid>
                    </layout:LayoutTransformer>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style BasedOn="{StaticResource DefaultAxisDragCursor}" TargetType="c:AxisDragCursor" />

</ResourceDictionary>